
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta content="Gain an understanding about working with model checkpoints including querying checkpoints from trials and experiments." name="description" />
<meta content="checkpoints, Python, checkpoint APIs" name="keywords" />

    <title>Checkpoints &#8212; project-x 0.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=dc820ae5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'latest/model-dev-guide/model-management/checkpoints';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    <p class="title logo__title">project-x 0.0.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Welcome to project-xâ€™s documentation!
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../example-solutions/_index.html">Examples</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../integrations/_index.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../integrations/ecosystem/_index.html">Ecosystem Integration</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../integrations/notification/_index.html">Monitoring Experiment Through Webhooks</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../integrations/notification/zapier.html">Through Zapier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../integrations/notification/slack.html">Through Slack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../integrations/prometheus/_index.html">Configure Determined with Prometheus and Grafana</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../_index.html">Model Developer Guide</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../apis-howto/_index.html">Training APIs</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../apis-howto/api-core-ug.html">Core API User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apis-howto/api-pytorch-ug.html">PyTorch API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apis-howto/api-keras-ug.html">Keras API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apis-howto/api-estimator-ug.html">Estimator API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../batch-processing/_index.html">Torch Batch Processing API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../best-practices/_index.html">Best Practices</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dtrain/_index.html">Distributed Training with Determined</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dtrain/dtrain-introduction.html">Distributed Training Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dtrain/dtrain-implement.html">Implementing Distributed Training</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dtrain/config-templates.html">Configuration Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dtrain/reproducibility.html">Reproducibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dtrain/optimize-training.html">Optimizing Training</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../model-hub-library/_index.html">Model Hub Library</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../model-hub-library/mmdetection/_index.html">MMDetection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../model-hub-library/transformers/_index.html">Transformers</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../model-hub-library/transformers/tutorial.html">Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-hub-library/transformers/examples.html">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/_index.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/cli-reference.html">Determined CLI Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/python-sdk.html">Python SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/rest-api.html">REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/batch-processing/_index.html">Batch Processing API Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/deploy/_index.html">Deployment Reference</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/deploy/config/common-config-options.html">Common Configuration Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/deploy/config/master-config-reference.html">Master Configuration Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/deploy/config/agent-config-reference.html">Agent Configuration Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/deploy/config/helm-config-reference.html">Helm Chart Configuration Reference</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/model-hub/_index.html">Model Hub APIs</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/searcher/_index.html">Custom Searcher Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/training/_index.html">Training Reference</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../release-notes/_index.html">Release Notes</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../setup-cluster/_index.html">Setup</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/_index.html">Set Up Determined</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/_index.html">Deploy on AWS</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/aws-spot.html">Use Spot Instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/dynamic-agents-aws.html">Deploy Determined with Dynamic Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/install-on-aws.html">Install Determined</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/gcp/_index.html">Deploy on GCP</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/gcp/dynamic-agents-gcp.html">Deploy Determined with Dynamic Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/gcp/install-gcp.html">Install Determined</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/_index.html">Deploy on Kubernetes</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/custom-pod-specs.html">Customize a Pod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/helm-commands.html">Helm and Kubectl Command Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/install-on-kubernetes.html">Install Determined on Kubernetes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/k8s-dev-guide.html">Development Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/setup-aks-cluster.html">Set up and Manage an Azure Kubernetes Service (AKS) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/setup-eks-cluster.html">Set up and Manage an AWS Kubernetes (EKS) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/setup-gke-cluster.html">Set up and Manage a Google Kubernetes Engine (GKE) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/_index.html">Deploy on Prem</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/deploy.html">Install Determined Using <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">deploy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/docker.html">Install Determined Using Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/homebrew.html">Install Determined Using Homebrew (macOS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/linux-packages.html">Install Determined Using Linux Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/requirements.html">Installation Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/wsl.html">Install Determined Using Windows Subsystem for Linux (Windows)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/_index.html">Deploy on Slurm/PBS</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/hpc-launching-architecture.html">HPC Launching Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/hpc-security-considerations.html">HPC Launcher Security Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/install-on-slurm.html">Install Determined on Slurm/PBS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/singularity.html">Provide a Container Image Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/slurm-known-issues.html">Known Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/slurm-requirements.html">Installation Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../setup-cluster/security/_index.html">Security</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/oauth.html">OAuth 2.0 Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/oidc.html">OpenID Connect Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/rbac.html">RBAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/saml.html">SAML Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/scim.html">SCIM Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/tls.html">Transport Layer Security</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/_index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pytorch-mnist-local-qs.html">Run Your First Experiment in Determined</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pytorch-mnist-tutorial.html">PyTorch MNIST Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pytorch-porting-tutorial.html">PyTorch Porting Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/quickstart-mdldev.html">Quickstart for Model Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tf-mnist-tutorial.html">TensorFlow Keras Fashion MNIST Tutorial</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/latest/model-dev-guide/model-management/checkpoints.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Checkpoints</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> {your-title} </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#querying-checkpoints">Querying Checkpoints</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-checkpoint-class">Using the <code class="docutils literal notranslate"><span class="pre">Checkpoint</span></code> Class</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorch-checkpoints">PyTorch Checkpoints</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tensorflow-checkpoints">TensorFlow Checkpoints</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-user-defined-checkpoint-metadata">Adding User-Defined Checkpoint Metadata</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-checkpoints-using-the-cli">Downloading Checkpoints using the CLI</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="checkpoints">
<span id="use-trained-models"></span><h1>Checkpoints<a class="headerlink" href="#checkpoints" title="Permalink to this heading">#</a></h1>
<p>Determined provides APIs for downloading checkpoints and loading them into memory in a Python
process.</p>
<p>This guide discusses:</p>
<ol class="arabic simple">
<li><p>Querying model checkpoints from trials and experiments.</p></li>
<li><p>Loading model checkpoints in Python.</p></li>
<li><p>Storing additional user-defined metadata in a checkpoint.</p></li>
<li><p>Using the Determined CLI to download checkpoints to disk.</p></li>
</ol>
<p>The Checkpoint Export API is a subset of the features found in the
<a class="reference internal" href="../../reference/python-sdk.html#module-determined.experimental.client" title="determined.experimental.client"><code class="xref py py-mod docutils literal notranslate"><span class="pre">client</span></code></a> module.</p>
<section id="querying-checkpoints">
<h2>Querying Checkpoints<a class="headerlink" href="#querying-checkpoints" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.ExperimentReference" title="determined.experimental.client.ExperimentReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExperimentReference</span></code></a> class is a reference to an
experiment. The reference contains the
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.ExperimentReference.top_checkpoint" title="determined.experimental.client.ExperimentReference.top_checkpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">top_checkpoint()</span></code></a> method. Without
arguments, the method will check the experiment configuration searcher field for the <code class="docutils literal notranslate"><span class="pre">metric</span></code> and
<code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code> values. These values are used to sort the experimentâ€™s checkpoints by
validation performance. The searcher settings in the following snippet from an experiment
configuration file will result in checkpoints being sorted by the loss metric in ascending order.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">searcher</span><span class="p">:</span>
<span class="w">  </span><span class="nt">metric</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;loss&quot;</span>
<span class="w">  </span><span class="nt">smaller_is_better</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>The following snippet of Python code can be run after the specified experiment has generated a
checkpoint. It returns an instance of <a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.Checkpoint" title="determined.experimental.client.Checkpoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Checkpoint</span></code></a>
representing the checkpoint that has the best validation metric.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
</pre></div>
</div>
<p>Checkpoints can be sorted by any metric using the <code class="docutils literal notranslate"><span class="pre">sort_by</span></code> keyword argument, which defines which
metric to use, and <code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code>, which defines whether to sort the checkpoints in ascending
or descending order with respect to the specified metric.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">(</span><span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span> <span class="n">smaller_is_better</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You may also query multiple checkpoints at the same time using the
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.ExperimentReference.top_n_checkpoints" title="determined.experimental.client.ExperimentReference.top_n_checkpoints"><code class="xref py py-meth docutils literal notranslate"><span class="pre">top_n_checkpoints()</span></code></a> method. Only the
single best checkpoint from each trial is considered; out of those, the checkpoints with the best
validation metric values are returned in sorted order, with the best one first. For example, the
following snippet returns the top five checkpoints from distinct trials of a specified experiment.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoints</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_n_checkpoints</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>This method also accepts <code class="docutils literal notranslate"><span class="pre">sort_by</span></code> and <code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code> arguments.</p>
<p><a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.TrialReference" title="determined.experimental.client.TrialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrialReference</span></code></a> is used for fine-grained control over
checkpoint selection within a trial. It contains a
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.TrialReference.top_checkpoint" title="determined.experimental.client.TrialReference.top_checkpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">top_checkpoint()</span></code></a> method, which mirrors
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.ExperimentReference.top_checkpoint" title="determined.experimental.client.ExperimentReference.top_checkpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">top_checkpoint()</span></code></a> for an experiment. It
also contains <a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.TrialReference.select_checkpoint" title="determined.experimental.client.TrialReference.select_checkpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_checkpoint()</span></code></a>, which offers
three ways to query checkpoints:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">best</span></code>: Returns the best checkpoint based on validation metrics as discussed above. When using
<code class="docutils literal notranslate"><span class="pre">best</span></code>, <code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code> and <code class="docutils literal notranslate"><span class="pre">sort_by</span></code> are also accepted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latest</span></code>: Returns the most recent checkpoint for the trial.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uuid</span></code>: Returns the checkpoint with the specified UUID.</p></li>
</ol>
<p>The following snippet showcases how to use the different modes for selecting checkpoints.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">trial</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_trial</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>

<span class="n">best_checkpoint</span> <span class="o">=</span> <span class="n">trial</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>

<span class="n">most_accurate_checkpoint</span> <span class="o">=</span> <span class="n">trial</span><span class="o">.</span><span class="n">select_checkpoint</span><span class="p">(</span>
    <span class="n">best</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span> <span class="n">smaller_is_better</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">most_recent_checkpoint</span> <span class="o">=</span> <span class="n">trial</span><span class="o">.</span><span class="n">select_checkpoint</span><span class="p">(</span><span class="n">latest</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">specific_checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_checkpoint</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;uuid-for-checkpoint&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="using-the-checkpoint-class">
<h2>Using the <code class="docutils literal notranslate"><span class="pre">Checkpoint</span></code> Class<a class="headerlink" href="#using-the-checkpoint-class" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.Checkpoint" title="determined.experimental.client.Checkpoint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Checkpoint</span></code></a> class can both download the checkpoint from
persistent storage and load it into memory in a Python process.</p>
<p>The <a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.Checkpoint.download" title="determined.experimental.client.Checkpoint.download"><code class="xref py py-meth docutils literal notranslate"><span class="pre">download()</span></code></a> method downloads a checkpoint from
persistent storage to a directory on the local file system. By default, checkpoints are downloaded
to <code class="docutils literal notranslate"><span class="pre">checkpoints/&lt;checkpoint-uuid&gt;/</span></code> (relative to the current working directory). The
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.Checkpoint.download" title="determined.experimental.client.Checkpoint.download"><code class="xref py py-meth docutils literal notranslate"><span class="pre">download()</span></code></a> method accepts <code class="docutils literal notranslate"><span class="pre">path</span></code> as an optional
parameter, which changes the checkpoint download location.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
<span class="n">checkpoint_path</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>

<span class="n">specific_path</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;specific-checkpoint-path&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code> method downloads the checkpoint, if it
does not already exist locally, and loads it into memory. The return type and behavior is different
depending on whether you are using TensorFlow or PyTorch.</p>
<section id="pytorch-checkpoints">
<h3>PyTorch Checkpoints<a class="headerlink" href="#pytorch-checkpoints" title="Permalink to this heading">#</a></h3>
<p>When using PyTorch models, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code> method
returns a parameterized instance of your trial class as defined in the experiment config under the
<a class="reference internal" href="../../reference/training/experiment-config-reference.html#experiment-config-entrypoint"><span class="std std-ref">entrypoint</span></a> field. The trained model can then be accessed from
the <code class="docutils literal notranslate"><span class="pre">model</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">Trial</span></code> object, as shown in the following snippet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>
<span class="kn">from</span> <span class="nn">determined</span> <span class="kn">import</span> <span class="n">pytorch</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="n">trial</span> <span class="o">=</span> <span class="n">pytorch</span><span class="o">.</span><span class="n">load_trial_from_checkpoint_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">trial</span><span class="o">.</span><span class="n">model</span>

<span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>
</pre></div>
</div>
<p>PyTorch checkpoints are saved using <a class="reference external" href="https://docs.python.org/3/library/pickle.html">pickle</a> and
loaded as <span class="xref std std-doc">/model-dev-guide/apis-howto/api-pytorch-ug</span> objects (see <a class="reference external" href="https://pytorch.org/docs/stable/notes/serialization.html">the PyTorch documentation</a> for details).</p>
</section>
<section id="tensorflow-checkpoints">
<h3>TensorFlow Checkpoints<a class="headerlink" href="#tensorflow-checkpoints" title="Permalink to this heading">#</a></h3>
<p>When using TensorFlow models, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code> method
returns a compiled model with weights loaded. This will be the same TensorFlow model returned by
your <code class="docutils literal notranslate"><span class="pre">build_model()</span></code> method defined in your trial class specified by the experiment config
<a class="reference internal" href="../../reference/training/experiment-config-reference.html#experiment-config-entrypoint"><span class="std std-ref">entrypoint</span></a> field. The trained model can then be used to make
predictions as shown in the following snippet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>
<span class="kn">from</span> <span class="nn">determined</span> <span class="kn">import</span> <span class="n">keras</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">load_model_from_checkpoint_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>
</pre></div>
</div>
<p>TensorFlow checkpoints are saved in either the <code class="docutils literal notranslate"><span class="pre">saved_model</span></code> or <code class="docutils literal notranslate"><span class="pre">h5</span></code> formats and are loaded as
trackable objects (see documentation for <a class="reference external" href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/saved_model/load_v2">tf.compat.v1.saved_model.load_v2</a> for details).</p>
</section>
</section>
<section id="adding-user-defined-checkpoint-metadata">
<span id="store-checkpoint-metadata"></span><h2>Adding User-Defined Checkpoint Metadata<a class="headerlink" href="#adding-user-defined-checkpoint-metadata" title="Permalink to this heading">#</a></h2>
<p>You can add arbitrary user-defined metadata to a checkpoint via the Python SDK. This feature is
useful for storing post-training metrics, labels, information related to deployment, etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
<span class="n">checkpoint</span><span class="o">.</span><span class="n">add_metadata</span><span class="p">({</span><span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;production&quot;</span><span class="p">})</span>

<span class="c1"># Metadata will be stored in Determined and accessible on the checkpoint object.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">checkpoint</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
<p>You may store an arbitrarily nested dictionary using the
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.Checkpoint.add_metadata" title="determined.experimental.client.Checkpoint.add_metadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_metadata()</span></code></a> method. If the top level key already
exists the entire tree beneath it will be overwritten.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
<span class="n">checkpoint</span><span class="o">.</span><span class="n">add_metadata</span><span class="p">({</span><span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;loss&quot;</span><span class="p">:</span> <span class="mf">0.12</span><span class="p">}})</span>
<span class="n">checkpoint</span><span class="o">.</span><span class="n">add_metadata</span><span class="p">({</span><span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;acc&quot;</span><span class="p">:</span> <span class="mf">0.92</span><span class="p">}})</span>

<span class="nb">print</span><span class="p">(</span><span class="n">checkpoint</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>  <span class="c1"># Output: {&quot;metrics&quot;: {&quot;acc&quot;: 0.92}}</span>
</pre></div>
</div>
<p>You may remove metadata via the <a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.Checkpoint.remove_metadata" title="determined.experimental.client.Checkpoint.remove_metadata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_metadata()</span></code></a>
method. The method accepts a list of top level keys. The entire tree beneath the keys passed will be
deleted.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">determined.experimental</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">checkpoint</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">top_checkpoint</span><span class="p">()</span>
<span class="n">checkpoint</span><span class="o">.</span><span class="n">remove_metadata</span><span class="p">([</span><span class="s2">&quot;metrics&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="downloading-checkpoints-using-the-cli">
<h2>Downloading Checkpoints using the CLI<a class="headerlink" href="#downloading-checkpoints-using-the-cli" title="Permalink to this heading">#</a></h2>
<p><span class="xref std std-ref">The Determined CLI</span> can be used to view all the checkpoints associated with an
experiment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>det<span class="w"> </span>experiment<span class="w"> </span>list-checkpoints<span class="w"> </span>&lt;experiment-id&gt;
</pre></div>
</div>
<p>Checkpoints are saved to external storage, according to the <a class="reference internal" href="../../reference/training/experiment-config-reference.html#checkpoint-storage"><span class="std std-ref">checkpoint_storage</span></a> section in the experiment configuration. Each checkpoint has a UUID, which is
used as the name of the checkpoint directory on the external storage system. For example, if the
experiment is configured to save checkpoints to a shared file system:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">checkpoint_storage</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">shared_fs</span>
<span class="w">  </span><span class="nt">host_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mnt/nfs-volume-1</span>
</pre></div>
</div>
<p>A checkpoint with UUID <code class="docutils literal notranslate"><span class="pre">b3ed462c-a6c9-41e9-9202-5cb8ff00e109</span></code> can be found in the directory
<code class="docutils literal notranslate"><span class="pre">/mnt/nfs-volume-1/b3ed462c-a6c9-41e9-9202-5cb8ff00e109</span></code>.</p>
<p>Determined offers the following CLI commands for downloading checkpoints locally:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">checkpoint</span> <span class="pre">download</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">trial</span> <span class="pre">download</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">experiment</span> <span class="pre">download</span></code></p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When downloading checkpoints in a shared file system, we assume the same shared file system is
mounted locally.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">checkpoint</span> <span class="pre">download</span></code> command downloads a checkpoint for the given UUID as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download a specific checkpoint.</span>
<span class="n">det</span> <span class="n">checkpoint</span> <span class="n">download</span> <span class="mi">46985143</span><span class="o">-</span><span class="n">af68</span><span class="o">-</span><span class="mi">4</span><span class="n">d48</span><span class="o">-</span><span class="n">ab91</span><span class="o">-</span><span class="n">a6447052ca49</span>
</pre></div>
</div>
<p>The command should display output resembling the following upon successfully downloading the
checkpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Local</span> <span class="n">checkpoint</span> <span class="n">path</span><span class="p">:</span>
<span class="n">checkpoints</span><span class="o">/</span><span class="mi">46985143</span><span class="o">-</span><span class="n">af68</span><span class="o">-</span><span class="mi">4</span><span class="n">d48</span><span class="o">-</span><span class="n">ab91</span><span class="o">-</span><span class="n">a6447052ca49</span>

     <span class="n">Batch</span> <span class="o">|</span> <span class="n">Checkpoint</span> <span class="n">UUID</span>                      <span class="o">|</span> <span class="n">Validation</span> <span class="n">Metrics</span>
<span class="o">-----------+--------------------------------------+---------------------------------------------</span>
      <span class="mi">1000</span> <span class="o">|</span> <span class="mi">46985143</span><span class="o">-</span><span class="n">af68</span><span class="o">-</span><span class="mi">4</span><span class="n">d48</span><span class="o">-</span><span class="n">ab91</span><span class="o">-</span><span class="n">a6447052ca49</span> <span class="o">|</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;num_inputs&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;validation_metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;loss&quot;</span><span class="p">:</span> <span class="mf">7.906739711761475</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;accuracy&quot;</span><span class="p">:</span> <span class="mf">0.9646000266075134</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;global_step&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;average_loss&quot;</span><span class="p">:</span> <span class="mf">0.12492649257183075</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="p">}</span>
           <span class="o">|</span>                                      <span class="o">|</span> <span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">trial</span> <span class="pre">download</span></code> command downloads checkpoints for a specified trial. Similar to the
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.TrialReference" title="determined.experimental.client.TrialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrialReference</span></code></a> API, the <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">trial</span> <span class="pre">download</span></code> command
accepts <code class="docutils literal notranslate"><span class="pre">--best</span></code>, <code class="docutils literal notranslate"><span class="pre">--latest</span></code>, and <code class="docutils literal notranslate"><span class="pre">--uuid</span></code> options.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download best checkpoint.</span>
<span class="n">det</span> <span class="n">trial</span> <span class="n">download</span> <span class="o">&lt;</span><span class="n">trial_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">best</span>
<span class="c1"># Download best checkpoint to a particular directory.</span>
<span class="n">det</span> <span class="n">trial</span> <span class="n">download</span> <span class="o">&lt;</span><span class="n">trial_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">best</span> <span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="nb">dir</span> <span class="n">local_checkpoint</span>
</pre></div>
</div>
<p>The command should display output resembling the following upon successfully downloading the
checkpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Local</span> <span class="n">checkpoint</span> <span class="n">path</span><span class="p">:</span>
<span class="n">checkpoints</span><span class="o">/</span><span class="mi">46985143</span><span class="o">-</span><span class="n">af68</span><span class="o">-</span><span class="mi">4</span><span class="n">d48</span><span class="o">-</span><span class="n">ab91</span><span class="o">-</span><span class="n">a6447052ca49</span>

     <span class="n">Batch</span> <span class="o">|</span> <span class="n">Checkpoint</span> <span class="n">UUID</span>                      <span class="o">|</span> <span class="n">Validation</span> <span class="n">Metrics</span>
<span class="o">-----------+--------------------------------------+---------------------------------------------</span>
      <span class="mi">1000</span> <span class="o">|</span> <span class="mi">46985143</span><span class="o">-</span><span class="n">af68</span><span class="o">-</span><span class="mi">4</span><span class="n">d48</span><span class="o">-</span><span class="n">ab91</span><span class="o">-</span><span class="n">a6447052ca49</span> <span class="o">|</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;num_inputs&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;validation_metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;loss&quot;</span><span class="p">:</span> <span class="mf">7.906739711761475</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;accuracy&quot;</span><span class="p">:</span> <span class="mf">0.9646000266075134</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;global_step&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;average_loss&quot;</span><span class="p">:</span> <span class="mf">0.12492649257183075</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="p">}</span>
           <span class="o">|</span>                                      <span class="o">|</span> <span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--latest</span></code> and <code class="docutils literal notranslate"><span class="pre">--uuid</span></code> options are used as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the most recent checkpoint.</span>
det<span class="w"> </span>trial<span class="w"> </span>download<span class="w"> </span>&lt;trial_id&gt;<span class="w"> </span>--latest

<span class="c1"># Download a specific checkpoint.</span>
det<span class="w"> </span>trial<span class="w"> </span>download<span class="w"> </span>&lt;trial_id&gt;<span class="w"> </span>--uuid<span class="w"> </span>&lt;uuid-for-checkpoint&gt;
</pre></div>
</div>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">experiment</span> <span class="pre">download</span></code> command provides a similar experience to using the
<a class="reference internal" href="../../reference/python-sdk.html#determined.experimental.client.ExperimentReference" title="determined.experimental.client.ExperimentReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">Python</span> <span class="pre">SDK</span></code></a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the best checkpoint for a given experiment.</span>
det<span class="w"> </span>experiment<span class="w"> </span>download<span class="w"> </span>&lt;experiment_id&gt;

<span class="c1"># Download the best 3 checkpoints for a given experiment.</span>
det<span class="w"> </span>experiment<span class="w"> </span>download<span class="w"> </span>&lt;experiment_id&gt;<span class="w"> </span>--top-n<span class="w"> </span><span class="m">3</span>
</pre></div>
</div>
<p>The command should display output resembling the following upon successfully downloading the
checkpoints.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Local</span> <span class="n">checkpoint</span> <span class="n">path</span><span class="p">:</span>
<span class="n">checkpoints</span><span class="o">/</span><span class="mi">8</span><span class="n">d45f621</span><span class="o">-</span><span class="mi">8652</span><span class="o">-</span><span class="mi">4268</span><span class="o">-</span><span class="mi">8445</span><span class="o">-</span><span class="mi">6</span><span class="n">ae9a735e453</span>

     <span class="n">Batch</span> <span class="o">|</span> <span class="n">Checkpoint</span> <span class="n">UUID</span>                      <span class="o">|</span> <span class="n">Validation</span> <span class="n">Metrics</span>
<span class="o">-----------+--------------------------------------+------------------------------------------</span>
       <span class="mi">400</span> <span class="o">|</span> <span class="mi">8</span><span class="n">d45f621</span><span class="o">-</span><span class="mi">8652</span><span class="o">-</span><span class="mi">4268</span><span class="o">-</span><span class="mi">8445</span><span class="o">-</span><span class="mi">6</span><span class="n">ae9a735e453</span> <span class="o">|</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;num_inputs&quot;</span><span class="p">:</span> <span class="mi">56</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;validation_metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;val_loss&quot;</span><span class="p">:</span> <span class="mf">0.26509127765893936</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;val_categorical_accuracy&quot;</span><span class="p">:</span> <span class="mi">1</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="p">}</span>
           <span class="o">|</span>                                      <span class="o">|</span> <span class="p">}</span>

<span class="n">Local</span> <span class="n">checkpoint</span> <span class="n">path</span><span class="p">:</span>
<span class="n">checkpoints</span><span class="o">/</span><span class="mi">62131</span><span class="n">ba1</span><span class="o">-</span><span class="mi">983</span><span class="n">c</span><span class="o">-</span><span class="mi">49</span><span class="n">a8</span><span class="o">-</span><span class="mi">98</span><span class="n">ef</span><span class="o">-</span><span class="mi">36207611</span><span class="n">d71f</span>

     <span class="n">Batch</span> <span class="o">|</span> <span class="n">Checkpoint</span> <span class="n">UUID</span>                      <span class="o">|</span> <span class="n">Validation</span> <span class="n">Metrics</span>
<span class="o">-----------+--------------------------------------+------------------------------------------</span>
      <span class="mi">1600</span> <span class="o">|</span> <span class="mi">62131</span><span class="n">ba1</span><span class="o">-</span><span class="mi">983</span><span class="n">c</span><span class="o">-</span><span class="mi">49</span><span class="n">a8</span><span class="o">-</span><span class="mi">98</span><span class="n">ef</span><span class="o">-</span><span class="mi">36207611</span><span class="n">d71f</span> <span class="o">|</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;num_inputs&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;validation_metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;val_loss&quot;</span><span class="p">:</span> <span class="mf">0.04411194706335664</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;val_categorical_accuracy&quot;</span><span class="p">:</span> <span class="mi">1</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="p">}</span>
           <span class="o">|</span>                                      <span class="o">|</span> <span class="p">}</span>

<span class="n">Local</span> <span class="n">checkpoint</span> <span class="n">path</span><span class="p">:</span>
<span class="n">checkpoints</span><span class="o">/</span><span class="n">a36d2a61</span><span class="o">-</span><span class="n">a384</span><span class="o">-</span><span class="mi">44</span><span class="n">f7</span><span class="o">-</span><span class="n">a84b</span><span class="o">-</span><span class="mi">8</span><span class="n">b30b09cb618</span>

     <span class="n">Batch</span> <span class="o">|</span> <span class="n">Checkpoint</span> <span class="n">UUID</span>                      <span class="o">|</span> <span class="n">Validation</span> <span class="n">Metrics</span>
<span class="o">-----------+--------------------------------------+------------------------------------------</span>
       <span class="mi">400</span> <span class="o">|</span> <span class="n">a36d2a61</span><span class="o">-</span><span class="n">a384</span><span class="o">-</span><span class="mi">44</span><span class="n">f7</span><span class="o">-</span><span class="n">a84b</span><span class="o">-</span><span class="mi">8</span><span class="n">b30b09cb618</span> <span class="o">|</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;num_inputs&quot;</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="s2">&quot;validation_metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;val_loss&quot;</span><span class="p">:</span> <span class="mf">0.07265569269657135</span><span class="p">,</span>
           <span class="o">|</span>                                      <span class="o">|</span>         <span class="s2">&quot;val_categorical_accuracy&quot;</span><span class="p">:</span> <span class="mi">1</span>
           <span class="o">|</span>                                      <span class="o">|</span>     <span class="p">}</span>
           <span class="o">|</span>                                      <span class="o">|</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../reference/python-sdk.html#python-sdk-reference"><span class="std std-ref">Python SDK Reference</span></a>: The reference documentation for this API.</p></li>
<li><p><a class="reference internal" href="model-registry-org.html#organizing-models"><span class="std std-ref">Organize Models in the Model Registry</span></a></p></li>
</ul>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> {your-title}
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#querying-checkpoints">Querying Checkpoints</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-checkpoint-class">Using the <code class="docutils literal notranslate"><span class="pre">Checkpoint</span></code> Class</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorch-checkpoints">PyTorch Checkpoints</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tensorflow-checkpoints">TensorFlow Checkpoints</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-user-defined-checkpoint-metadata">Adding User-Defined Checkpoint Metadata</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-checkpoints-using-the-cli">Downloading Checkpoints using the CLI</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By lb
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      Â© Copyright 2023, lb.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>