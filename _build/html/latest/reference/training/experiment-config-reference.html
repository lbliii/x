
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta content="Browse this complete description of the experiment configuration reference or YAML file, including metadata, entrypoint, basic behaviors, validation policy, checkpoint policy, checkpoint storage, and so on." name="description" />

    <title>Experiment Configuration Reference &#8212; project-x 0.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=dc820ae5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'latest/reference/training/experiment-config-reference';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Release Notes" href="../../release-notes/_index.html" />
    <link rel="prev" title="det.pytorch.samplers API Reference" href="api-pytorch-samplers-reference.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    <p class="title logo__title">project-x 0.0.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Welcome to project-x’s documentation!
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../example-solutions/_index.html">Examples</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../integrations/_index.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../integrations/ecosystem/_index.html">Ecosystem Integration</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../integrations/notification/_index.html">Monitoring Experiment Through Webhooks</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../integrations/notification/zapier.html">Through Zapier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../integrations/notification/slack.html">Through Slack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../integrations/prometheus/_index.html">Configure Determined with Prometheus and Grafana</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../model-dev-guide/_index.html">Model Developer Guide</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../model-dev-guide/apis-howto/_index.html">Training APIs</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/apis-howto/api-core-ug.html">Core API User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/apis-howto/api-pytorch-ug.html">PyTorch API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/apis-howto/api-keras-ug.html">Keras API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/apis-howto/api-estimator-ug.html">Estimator API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../model-dev-guide/batch-processing/_index.html">Torch Batch Processing API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../model-dev-guide/best-practices/_index.html">Best Practices</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../model-dev-guide/dtrain/_index.html">Distributed Training with Determined</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/dtrain/dtrain-introduction.html">Distributed Training Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/dtrain/dtrain-implement.html">Implementing Distributed Training</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/dtrain/config-templates.html">Configuration Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/dtrain/reproducibility.html">Reproducibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-dev-guide/dtrain/optimize-training.html">Optimizing Training</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../model-hub-library/_index.html">Model Hub Library</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../model-hub-library/mmdetection/_index.html">MMDetection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../model-hub-library/transformers/_index.html">Transformers</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../model-hub-library/transformers/tutorial.html">Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../model-hub-library/transformers/examples.html">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../_index.html">Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cli-reference.html">Determined CLI Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-sdk.html">Python SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rest-api.html">REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../batch-processing/_index.html">Batch Processing API Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../deploy/_index.html">Deployment Reference</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../deploy/config/_index.html">Config Reference</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/config/agent-config-reference.html">Agent Configuration Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/config/common-config-options.html">Common Configuration Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/config/helm-config-reference.html">Helm Chart Configuration Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/config/master-config-reference.html">Master Configuration Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interface/_index.html">Job Configuration Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../model-hub/_index.html">Model Hub APIs</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../model-hub/mmdetection-api.html">MMDetection API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../model-hub/transformers-api.html">Transformers API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../searcher/_index.html">Custom Searcher Reference</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="_index.html">Training Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="api-core-reference.html"><code class="docutils literal notranslate"><span class="pre">det.core</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-deepspeed-reference.html"><code class="docutils literal notranslate"><span class="pre">det.pytorch.deepspeed</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-det-reference.html"><code class="docutils literal notranslate"><span class="pre">det</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-estimator-reference.html"><code class="docutils literal notranslate"><span class="pre">det.estimator</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-keras-reference.html"><code class="docutils literal notranslate"><span class="pre">det.keras</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-pytorch-reference.html"><code class="docutils literal notranslate"><span class="pre">det.pytorch</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-pytorch-samplers-reference.html"><code class="docutils literal notranslate"><span class="pre">det.pytorch.samplers</span></code> API Reference</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Experiment Configuration Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../release-notes/_index.html">Release Notes</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../setup-cluster/_index.html">Setup</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/_index.html">Set Up Determined</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/_index.html">Deploy on AWS</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/aws-spot.html">Use Spot Instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/dynamic-agents-aws.html">Deploy Determined with Dynamic Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/aws/install-on-aws.html">Install Determined</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/gcp/_index.html">Deploy on GCP</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/gcp/dynamic-agents-gcp.html">Deploy Determined with Dynamic Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/gcp/install-gcp.html">Install Determined</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/_index.html">Deploy on Kubernetes</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/custom-pod-specs.html">Customize a Pod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/helm-commands.html">Helm and Kubectl Command Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/install-on-kubernetes.html">Install Determined on Kubernetes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/k8s-dev-guide.html">Development Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/setup-aks-cluster.html">Set up and Manage an Azure Kubernetes Service (AKS) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/setup-eks-cluster.html">Set up and Manage an AWS Kubernetes (EKS) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/setup-gke-cluster.html">Set up and Manage a Google Kubernetes Engine (GKE) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/_index.html">Deploy on Prem</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/deploy.html">Install Determined Using <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">deploy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/docker.html">Install Determined Using Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/homebrew.html">Install Determined Using Homebrew (macOS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/linux-packages.html">Install Determined Using Linux Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/requirements.html">Installation Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/on-prem/wsl.html">Install Determined Using Windows Subsystem for Linux (Windows)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/_index.html">Deploy on Slurm/PBS</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/hpc-launching-architecture.html">HPC Launching Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/hpc-security-considerations.html">HPC Launcher Security Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/install-on-slurm.html">Install Determined on Slurm/PBS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/singularity.html">Provide a Container Image Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/slurm-known-issues.html">Known Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/slurm-requirements.html">Installation Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../setup-cluster/security/_index.html">Security</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/oauth.html">OAuth 2.0 Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/oidc.html">OpenID Connect Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/rbac.html">RBAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/saml.html">SAML Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/scim.html">SCIM Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setup-cluster/security/tls.html">Transport Layer Security</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/_index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pytorch-mnist-local-qs.html">Run Your First Experiment in Determined</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pytorch-mnist-tutorial.html">PyTorch MNIST Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pytorch-porting-tutorial.html">PyTorch Porting Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/quickstart-mdldev.html">Quickstart for Model Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tf-mnist-tutorial.html">TensorFlow Keras Fashion MNIST Tutorial</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/latest/reference/training/experiment-config-reference.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Experiment Configuration Reference</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> {your-title} </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#training-units">Training Units</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#training-unit-conversion-limitations-caveats">Training Unit Conversion Limitations (Caveats)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata">Metadata</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#name"><code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description"><code class="docutils literal notranslate"><span class="pre">description</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labels"><code class="docutils literal notranslate"><span class="pre">labels</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data"><code class="docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#workspace"><code class="docutils literal notranslate"><span class="pre">workspace</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#project"><code class="docutils literal notranslate"><span class="pre">project</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#entrypoint">Entrypoint</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experiment-config-entrypoint"><code class="docutils literal notranslate"><span class="pre">entrypoint</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrary-script">Arbitrary Script</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#preconfigured-launch-module-with-script">Preconfigured Launch Module with Script</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#preconfigured-launch-module-with-legacy-trial-definition">Preconfigured Launch Module with Legacy Trial Definition</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#legacy-trial-definition">Legacy Trial Definition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-behaviors">Basic Behaviors</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduling-unit"><code class="docutils literal notranslate"><span class="pre">scheduling_unit</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#records-per-epoch"><code class="docutils literal notranslate"><span class="pre">records_per_epoch</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#max-restarts"><code class="docutils literal notranslate"><span class="pre">max_restarts</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-policy">Validation Policy</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#min-validation-period"><code class="docutils literal notranslate"><span class="pre">min_validation_period</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-initial-validation"><code class="docutils literal notranslate"><span class="pre">perform_initial_validation</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-policy">Checkpoint Policy</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#min-checkpoint-period"><code class="docutils literal notranslate"><span class="pre">min_checkpoint_period</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><code class="docutils literal notranslate"><span class="pre">checkpoint_policy</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-storage">Checkpoint Storage</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-garbage-collection">Checkpoint Garbage Collection</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#save-experiment-best"><code class="docutils literal notranslate"><span class="pre">save_experiment_best</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#save-trial-best"><code class="docutils literal notranslate"><span class="pre">save_trial_best</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#save-trial-latest"><code class="docutils literal notranslate"><span class="pre">save_trial_latest</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-saving-policy">Checkpoint Saving Policy</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#storage-type">Storage Type</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#google-cloud-storage">Google Cloud Storage</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bucket"><code class="docutils literal notranslate"><span class="pre">bucket</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#prefix"><code class="docutils literal notranslate"><span class="pre">prefix</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amazon-s3">Amazon S3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><code class="docutils literal notranslate"><span class="pre">bucket</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#access-key"><code class="docutils literal notranslate"><span class="pre">access_key</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#secret-key"><code class="docutils literal notranslate"><span class="pre">secret_key</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8"><code class="docutils literal notranslate"><span class="pre">prefix</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#endpoint-url"><code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#azure-blob-storage">Azure Blob Storage</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#container"><code class="docutils literal notranslate"><span class="pre">container</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-string"><code class="docutils literal notranslate"><span class="pre">connection_string</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#account-url"><code class="docutils literal notranslate"><span class="pre">account_url</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#credential"><code class="docutils literal notranslate"><span class="pre">credential</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shared-file-system">Shared File System</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#host-path"><code class="docutils literal notranslate"><span class="pre">host_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#storage-path"><code class="docutils literal notranslate"><span class="pre">storage_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#propagation"><code class="docutils literal notranslate"><span class="pre">propagation</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hyperparameters">Hyperparameters</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical">Categorical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#double">Double</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#integer">Integer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#log">Log</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#searcher">Searcher</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#single">Single</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metric"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-length"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#smaller-is-better"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#source-trial-id"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#source-checkpoint-uuid"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random">Random</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-trials"><code class="docutils literal notranslate"><span class="pre">max_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-concurrent-trials"><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grid">Grid</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17"><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id19"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptive-asha">Adaptive ASHA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id20"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id21"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id22"><code class="docutils literal notranslate"><span class="pre">max_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id23"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mode"><code class="docutils literal notranslate"><span class="pre">mode</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stop-once"><code class="docutils literal notranslate"><span class="pre">stop_once</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#divisor"><code class="docutils literal notranslate"><span class="pre">divisor</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-rungs"><code class="docutils literal notranslate"><span class="pre">max_rungs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id24"><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id25"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id26"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources">Resources</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slots-per-trial"><code class="docutils literal notranslate"><span class="pre">slots_per_trial</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#max-slots"><code class="docutils literal notranslate"><span class="pre">max_slots</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#weight"><code class="docutils literal notranslate"><span class="pre">weight</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shm-size"><code class="docutils literal notranslate"><span class="pre">shm_size</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#priority"><code class="docutils literal notranslate"><span class="pre">priority</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-pool"><code class="docutils literal notranslate"><span class="pre">resource_pool</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#devices"><code class="docutils literal notranslate"><span class="pre">devices</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agent-label"><code class="docutils literal notranslate"><span class="pre">agent_label</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bind-mounts">Bind Mounts</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27"><code class="docutils literal notranslate"><span class="pre">host_path</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#container-path"><code class="docutils literal notranslate"><span class="pre">container_path</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-only"><code class="docutils literal notranslate"><span class="pre">read_only</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28"><code class="docutils literal notranslate"><span class="pre">propagation</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment">Environment</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image"><code class="docutils literal notranslate"><span class="pre">image</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#force-pull-image"><code class="docutils literal notranslate"><span class="pre">force_pull_image</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#registry-auth"><code class="docutils literal notranslate"><span class="pre">registry_auth</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables"><code class="docutils literal notranslate"><span class="pre">environment_variables</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pod-spec"><code class="docutils literal notranslate"><span class="pre">pod_spec</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-capabilities"><code class="docutils literal notranslate"><span class="pre">add_capabilities</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#drop-capabilities"><code class="docutils literal notranslate"><span class="pre">drop_capabilities</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-ports"><code class="docutils literal notranslate"><span class="pre">proxy_ports</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optimizations">Optimizations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregation-frequency"><code class="docutils literal notranslate"><span class="pre">aggregation_frequency</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#average-aggregated-gradients"><code class="docutils literal notranslate"><span class="pre">average_aggregated_gradients</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#average-training-metrics"><code class="docutils literal notranslate"><span class="pre">average_training_metrics</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gradient-compression"><code class="docutils literal notranslate"><span class="pre">gradient_compression</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mixed-precision"><code class="docutils literal notranslate"><span class="pre">mixed_precision</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tensor-fusion-threshold"><code class="docutils literal notranslate"><span class="pre">tensor_fusion_threshold</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tensor-fusion-cycle-time"><code class="docutils literal notranslate"><span class="pre">tensor_fusion_cycle_time</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#auto-tune-tensor-fusion"><code class="docutils literal notranslate"><span class="pre">auto_tune_tensor_fusion</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reproducibility">Reproducibility</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experiment-seed"><code class="docutils literal notranslate"><span class="pre">experiment_seed</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#profiling">Profiling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29"><code class="docutils literal notranslate"><span class="pre">profiling</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#enabled"><code class="docutils literal notranslate"><span class="pre">enabled</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#begin-on-batch"><code class="docutils literal notranslate"><span class="pre">begin_on_batch</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#end-after-batch"><code class="docutils literal notranslate"><span class="pre">end_after_batch</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sync-timings"><code class="docutils literal notranslate"><span class="pre">sync_timings</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#slurm-options">Slurm Options</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-type"><code class="docutils literal notranslate"><span class="pre">gpu_type</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sbatch-args"><code class="docutils literal notranslate"><span class="pre">sbatch_args</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slots-per-node"><code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pbs-options">PBS Options</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pbsbatch-args"><code class="docutils literal notranslate"><span class="pre">pbsbatch_args</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33"><code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="experiment-configuration-reference">
<span id="experiment-configuration"></span><span id="experiment-config-reference"></span><h1>Experiment Configuration Reference<a class="headerlink" href="#experiment-configuration-reference" title="Permalink to this heading">#</a></h1>
<p>The behavior of an experiment is configured via a YAML file. A configuration file is typically
passed as a command-line argument when an experiment is created with the Determined CLI. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">det</span> <span class="n">experiment</span> <span class="n">create</span> <span class="n">config</span><span class="o">-</span><span class="n">file</span><span class="o">.</span><span class="n">yaml</span> <span class="n">model</span><span class="o">-</span><span class="n">directory</span>
</pre></div>
</div>
<section id="training-units">
<h2>Training Units<a class="headerlink" href="#training-units" title="Permalink to this heading">#</a></h2>
<p>Some configuration settings, such as searcher training lengths and budgets,
<code class="docutils literal notranslate"><span class="pre">min_validation_period</span></code>, and <code class="docutils literal notranslate"><span class="pre">min_checkpoint_period</span></code>, can be expressed in terms of a few
training units: records, batches, or epochs.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">records</span></code>: A <em>record</em> is a single labeled example (sometimes called a sample).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">batches</span></code>: A <em>batch</em> is a group of records. The number of records in a batch is configured via
the <code class="docutils literal notranslate"><span class="pre">global_batch_size</span></code> hyperparameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">epoch</span></code>: An <em>epoch</em> is a single copy of the entire training data set; the number of records in
an epoch is configured via the <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> configuration
field.</p></li>
</ul>
<p>For example, to specify the <code class="docutils literal notranslate"><span class="pre">max_length</span></code> for a searcher in terms of batches, the configuration
would read as shown below.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">  </span><span class="nt">batches</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">900</span>
</pre></div>
</div>
<p>To express it in terms of records or epochs, <code class="docutils literal notranslate"><span class="pre">records</span></code> or <code class="docutils literal notranslate"><span class="pre">epochs</span></code> would be specified in place
of <code class="docutils literal notranslate"><span class="pre">batches</span></code>. In the case of epochs, <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> must also
be specified. Below is an example that configures a <code class="docutils literal notranslate"><span class="pre">single</span></code> searcher to train a model for 64
epochs.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">records_per_epoch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50000</span>
<span class="nt">searcher</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">single</span>
<span class="w">  </span><span class="nt">metric</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validation_error</span>
<span class="w">  </span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">    </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">64</span>
<span class="w">  </span><span class="nt">smaller_is_better</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>The configured <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> is only used for interpreting
configuration fields that are expressed in epochs. Actual epoch boundaries are still determined by
the dataset itself (specifically, the end of an epoch occurs when the training data loader runs out
of records).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the amount of training data for a model is specified using records or epochs, and the batch
size does not evenly divide the configured number of inputs, the remaining “partial batch” of
data will be dropped (ignored). For example, if an experiment is configured to train a single
model on 10 records with a batch size of 3, the model will be trained on only 9 records of data.
In the special case where a trial is configured to train on less than a single batch of data, a
single complete batch will be used instead.</p>
</div>
<section id="training-unit-conversion-limitations-caveats">
<h3>Training Unit Conversion Limitations (Caveats)<a class="headerlink" href="#training-unit-conversion-limitations-caveats" title="Permalink to this heading">#</a></h3>
<p>In most cases, values expressed in one type of training unit can be converted to another type while
maintaining the same behavior. However, there are some limitations to consider:</p>
<ul class="simple">
<li><p>Since training units must be positive integers, it is not always possible to convert between
different types of units. For example, converting 50 <code class="docutils literal notranslate"><span class="pre">records</span></code> into batches is not possible if
the batch size is 64.</p></li>
<li><p>When performing a hyperparameter search over a range of values for <code class="docutils literal notranslate"><span class="pre">global_batch_size</span></code>, the
specified <code class="docutils literal notranslate"><span class="pre">batches</span></code> cannot be converted to a fixed number of records or epochs and hence cause
different behaviors in different trials of the search.</p></li>
<li><p>When using <a class="reference internal" href="#experiment-configuration-searcher-adaptive"><span class="std std-ref">adaptive_asha</span></a>, a single training
unit is treated as atomic (unable to be divided into fractional parts) when dividing
<code class="docutils literal notranslate"><span class="pre">max_length</span></code> into the series of rounds (or rungs) by which we early-stop underperforming
trials. This rounding may result in unexpected behavior when configuring <code class="docutils literal notranslate"><span class="pre">max_length</span></code> with a
small number of large epochs or batches.</p></li>
</ul>
<p>To verify your search is working as intended before committing to a full run, you can use the CLI’s
“preview search” feature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">det</span> <span class="n">preview</span><span class="o">-</span><span class="n">search</span> <span class="o">&lt;</span><span class="n">configuration</span><span class="o">.</span><span class="n">yaml</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">#</a></h2>
<section id="name">
<h3><code class="docutils literal notranslate"><span class="pre">name</span></code><a class="headerlink" href="#name" title="Permalink to this heading">#</a></h3>
<p>Optional. A short human-readable name for the experiment.</p>
</section>
<section id="description">
<h3><code class="docutils literal notranslate"><span class="pre">description</span></code><a class="headerlink" href="#description" title="Permalink to this heading">#</a></h3>
<p>Optional. A human-readable description of the experiment. This does not need to be unique but should
be limited to less than 255 characters for the best experience.</p>
</section>
<section id="labels">
<h3><code class="docutils literal notranslate"><span class="pre">labels</span></code><a class="headerlink" href="#labels" title="Permalink to this heading">#</a></h3>
<p>Optional. A list of label names (strings). Assigning labels to experiments allows you to identify
experiments that share the same property or should be grouped together. You can add and remove
labels using either the CLI (<code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">experiment</span> <span class="pre">label</span></code>) or the WebUI.</p>
</section>
<section id="data">
<span id="experiment-config-data"></span><h3><code class="docutils literal notranslate"><span class="pre">data</span></code><a class="headerlink" href="#data" title="Permalink to this heading">#</a></h3>
<p>Optional. This field can be used to specify information about how the experiment accesses and loads
training data. The content and format of this field is user-defined: it should be used to specify
whatever configuration is needed for loading data for use by the experiment’s model definition. For
example, if your experiment loads data from Amazon S3, the <code class="docutils literal notranslate"><span class="pre">data</span></code> field might contain the S3
bucket name, object prefix, and AWS authentication credentials.</p>
</section>
<section id="workspace">
<h3><code class="docutils literal notranslate"><span class="pre">workspace</span></code><a class="headerlink" href="#workspace" title="Permalink to this heading">#</a></h3>
<p>Optional. The name of the pre-existing workspace where you want to create the experiment. The
<code class="docutils literal notranslate"><span class="pre">workspace</span></code> and <code class="docutils literal notranslate"><span class="pre">project</span></code> fields must either both be present or both be absent. If they are
absent, the experiment is placed in the <code class="docutils literal notranslate"><span class="pre">Uncategorized</span></code> project in the <code class="docutils literal notranslate"><span class="pre">Uncategorized</span></code>
workspace. You can manage workspaces using the CLI <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">workspace</span> <span class="pre">help</span></code> command or the WebUI.</p>
</section>
<section id="project">
<h3><code class="docutils literal notranslate"><span class="pre">project</span></code><a class="headerlink" href="#project" title="Permalink to this heading">#</a></h3>
<p>Optional. The name of the pre-existing project inside <code class="docutils literal notranslate"><span class="pre">workspace</span></code> where you want to create the
experiment. The <code class="docutils literal notranslate"><span class="pre">workspace</span></code> and <code class="docutils literal notranslate"><span class="pre">project</span></code> fields must either both be present or both be absent.
If they are absent, the experiment is placed in the <code class="docutils literal notranslate"><span class="pre">Uncategorized</span></code> project in the
<code class="docutils literal notranslate"><span class="pre">Uncategorized</span></code> workspace. You can manage projects using the CLI <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">project</span> <span class="pre">help</span></code> command or
the WebUI.</p>
</section>
</section>
<section id="entrypoint">
<h2>Entrypoint<a class="headerlink" href="#entrypoint" title="Permalink to this heading">#</a></h2>
<section id="experiment-config-entrypoint">
<span id="id1"></span><h3><code class="docutils literal notranslate"><span class="pre">entrypoint</span></code><a class="headerlink" href="#experiment-config-entrypoint" title="Permalink to this heading">#</a></h3>
<p>Required. A model definition trial class specification or Python launcher script, which is the model
processing entrypoint. This field can have the following formats.</p>
<p>Formats that specify a trial class have the form <code class="docutils literal notranslate"><span class="pre">&lt;module&gt;:&lt;object_reference&gt;</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;module&gt;</span></code> field specifies the module containing the trial class in the model definition,
relative to root.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;object_reference&gt;</span></code> specifies the trial class name in the module, which can be a nested
object delimited by a period (<code class="docutils literal notranslate"><span class="pre">.</span></code>).</p>
<p>Examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MnistTrial</span></code> expects an <em>MnistTrial</em> class exposed in a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file at the top level
of the context directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model_def:CIFAR10Trial</span></code> expects a <em>CIFAR10Trial</em> class defined in the <code class="docutils literal notranslate"><span class="pre">model_def.py</span></code> file at
the top level of the context directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">determined_lib.trial:trial_classes.NestedTrial</span></code> expects a <code class="docutils literal notranslate"><span class="pre">NestedTrial</span></code> class, which is an
attribute of <code class="docutils literal notranslate"><span class="pre">trial_classes</span></code> defined in the <code class="docutils literal notranslate"><span class="pre">determined_lib/trial.py</span></code> file.</p></li>
</ul>
<p>These formats follow Python <a class="reference external" href="https://packaging.python.org/specifications/entry-points/">Entry points</a> specification except that the context
directory name is prefixed by <code class="docutils literal notranslate"><span class="pre">&lt;module&gt;</span></code> or used as the module if the <code class="docutils literal notranslate"><span class="pre">&lt;module&gt;</span></code> field is empty.</p>
<section id="arbitrary-script">
<h4>Arbitrary Script<a class="headerlink" href="#arbitrary-script" title="Permalink to this heading">#</a></h4>
<p>Required. An arbitrary entrypoint script name.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.sh</span>
</pre></div>
</div>
</section>
<section id="preconfigured-launch-module-with-script">
<h4>Preconfigured Launch Module with Script<a class="headerlink" href="#preconfigured-launch-module-with-script" title="Permalink to this heading">#</a></h4>
<p>Required. The name of a preconfigured launch module and script name.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python3 -m (LAUNCH_MODULE) train.py</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">LAUNCH_MODULE</span></code> options:</p>
<ul class="simple">
<li><p>Horovod (determined.launch.horovod)</p></li>
<li><p>PyTorch (determined.launch.torch_distributed)</p></li>
<li><p>Deepspeed (determined.launch.deepspeed)</p></li>
</ul>
</section>
<section id="preconfigured-launch-module-with-legacy-trial-definition">
<h4>Preconfigured Launch Module with Legacy Trial Definition<a class="headerlink" href="#preconfigured-launch-module-with-legacy-trial-definition" title="Permalink to this heading">#</a></h4>
<p>Required. The name of a preconfigured launch module and legacy trial class specification.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python3 -m (LAUNCH_MODULE) --trial model_def:Trial</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">LAUNCH_MODULE</span></code> options: [need literals for these]</p>
<ul class="simple">
<li><p>Horovod (determined.launch.horovod)</p></li>
<li><p>PyTorch (determined.launch.torch_distributed)</p></li>
<li><p>Deepspeed (determined.launch.deepspeed)</p></li>
</ul>
</section>
<section id="legacy-trial-definition">
<h4>Legacy Trial Definition<a class="headerlink" href="#legacy-trial-definition" title="Permalink to this heading">#</a></h4>
<p>Required. A legacy trial class specification.</p>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">model_def:Trial</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="basic-behaviors">
<h2>Basic Behaviors<a class="headerlink" href="#basic-behaviors" title="Permalink to this heading">#</a></h2>
<section id="scheduling-unit">
<span id="id2"></span><h3><code class="docutils literal notranslate"><span class="pre">scheduling_unit</span></code><a class="headerlink" href="#scheduling-unit" title="Permalink to this heading">#</a></h3>
<p>Optional. Instructs how frequent to perform system operations, such as periodic checkpointing and
preemption, in the unit of batches. The number of records in a batch is controlled by the
<a class="reference internal" href="#config-global-batch-size"><span class="std std-ref">global_batch_size</span></a> hyperparameter. Defaults to <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
<ul class="simple">
<li><p>Setting this value too small can increase the overhead of system operations and decrease training
throughput.</p></li>
<li><p>Setting this value too large might prevent the system from reallocating resources from this
workload to another, potentially more important, workload.</p></li>
<li><p>As a rule of thumb, it should be set to the number of batches that can be trained in roughly
60–180 seconds.</p></li>
</ul>
</section>
<section id="records-per-epoch">
<span id="config-records-per-epoch"></span><h3><code class="docutils literal notranslate"><span class="pre">records_per_epoch</span></code><a class="headerlink" href="#records-per-epoch" title="Permalink to this heading">#</a></h3>
<p>Optional. The number of records in the training data set. It must be configured if you want to
specify <code class="docutils literal notranslate"><span class="pre">min_validation_period</span></code>, <code class="docutils literal notranslate"><span class="pre">min_checkpoint_period</span></code>, and <code class="docutils literal notranslate"><span class="pre">searcher.max_length</span></code> in units
of <code class="docutils literal notranslate"><span class="pre">epochs</span></code>.</p>
<ul class="simple">
<li><p>The system does not attempt to determine the size of an epoch automatically, because the size of
the training set might vary based on data augmentation, changes to external storage, or other
factors.</p></li>
</ul>
</section>
<section id="max-restarts">
<span id="id3"></span><h3><code class="docutils literal notranslate"><span class="pre">max_restarts</span></code><a class="headerlink" href="#max-restarts" title="Permalink to this heading">#</a></h3>
<p>Optional. The <code class="docutils literal notranslate"><span class="pre">max_restarts</span></code> parameter parameter sets a limit on the number of times the
Determined master can try restarting a trial, preventing an infinite loop if the same error
repeatedly occurs. After reach the <code class="docutils literal notranslate"><span class="pre">max_restarts</span></code> limit for an experiment, any subsequent failed
trials will not be restarted and will be marked as errored. An experiment is considered successful
if at least one of its trials completes without errors. The default value for <code class="docutils literal notranslate"><span class="pre">max_restarts</span></code> is
<code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
</section>
</section>
<section id="validation-policy">
<h2>Validation Policy<a class="headerlink" href="#validation-policy" title="Permalink to this heading">#</a></h2>
<section id="min-validation-period">
<span id="experiment-config-min-validation-period"></span><h3><code class="docutils literal notranslate"><span class="pre">min_validation_period</span></code><a class="headerlink" href="#min-validation-period" title="Permalink to this heading">#</a></h3>
<p>Optional. Specifies the minimum frequency at which validation should be run for each trial.</p>
<ul class="simple">
<li><p>The frequency should be defined using a nested dictionary indicating the unit as records,
batches, or epochs. For example:</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">min_validation_period</span><span class="p">:</span>
<span class="w">   </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If this is in the unit of epochs, <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> must be
specified.</p></li>
</ul>
</section>
<section id="perform-initial-validation">
<span id="experiment-config-perform-initial-validation"></span><h3><code class="docutils literal notranslate"><span class="pre">perform_initial_validation</span></code><a class="headerlink" href="#perform-initial-validation" title="Permalink to this heading">#</a></h3>
<p>Optional. Instructs Determined to perform an initial validation before any training begins, for each
trial. This can be useful to determine a baseline when fine-tuning a model on a new dataset.</p>
</section>
</section>
<section id="checkpoint-policy">
<span id="experiment-config-checkpoint-policy"></span><h2>Checkpoint Policy<a class="headerlink" href="#checkpoint-policy" title="Permalink to this heading">#</a></h2>
<p>Determined checkpoints in the following situations:</p>
<ul class="simple">
<li><p>Periodically during training, to keep a record of the training progress.</p></li>
<li><p>During training, to enable recovery of the trial’s execution in case of resumption or errors.</p></li>
<li><p>Upon completion of the trial.</p></li>
<li><p>Prior to the searcher making a decision based on the validation of trials, ensuring consistency
in case of a failure.</p></li>
</ul>
<section id="min-checkpoint-period">
<span id="experiment-config-min-checkpoint-period"></span><h3><code class="docutils literal notranslate"><span class="pre">min_checkpoint_period</span></code><a class="headerlink" href="#min-checkpoint-period" title="Permalink to this heading">#</a></h3>
<p>Optional. Specifies the minimum frequency for running checkpointing for each trial.</p>
<ul>
<li><p>This value should be set using a nested dictionary in the form of records, batches, or epochs.
For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">min_checkpoint_period</span><span class="p">:</span>
<span class="w">   </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
</li>
<li><p>If the unit is in epochs, you must also specify <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a>.</p></li>
</ul>
</section>
<section id="id4">
<h3><code class="docutils literal notranslate"><span class="pre">checkpoint_policy</span></code><a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h3>
<p>Optional. Controls how Determined performs checkpoints after validation operations, if at all.
Should be set to one of the following values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">best</span></code> (default): A checkpoint will be taken after every validation operation that performs
better than all previous validations for this experiment. Validation metrics are compared
according to the <code class="docutils literal notranslate"><span class="pre">metric</span></code> and <code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code> options in the <a class="reference internal" href="#experiment-configuration-searcher"><span class="std std-ref">searcher configuration</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code>: A checkpoint will be taken after every validation, no matter the validation performance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code>: A checkpoint will never be taken <em>due</em> to a validation. However, even with this policy
selected, checkpoints are still expected to be taken after the trial is finished training, due to
cluster scheduling decisions, before search method decisions, or due to
<a class="reference internal" href="#experiment-config-min-checkpoint-period"><span class="std std-ref">min_checkpoint_period</span></a>.</p></li>
</ul>
</section>
</section>
<section id="checkpoint-storage">
<span id="id5"></span><h2>Checkpoint Storage<a class="headerlink" href="#checkpoint-storage" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">checkpoint_storage</span></code> section defines how model checkpoints will be stored. A checkpoint
contains the architecture and weights of the model being trained. Each checkpoint has a UUID, which
is used as the name of the checkpoint directory on the external storage system.</p>
<p>If this field is not specified, the experiment will default to the checkpoint storage configured in
the <a class="reference internal" href="../deploy/config/master-config-reference.html#master-config-reference"><span class="std std-ref">master configuration</span></a>.</p>
<section id="checkpoint-garbage-collection">
<span id="id6"></span><h3>Checkpoint Garbage Collection<a class="headerlink" href="#checkpoint-garbage-collection" title="Permalink to this heading">#</a></h3>
<p>When an experiment finishes, the system will optionally delete some checkpoints to reclaim space.
The <code class="docutils literal notranslate"><span class="pre">save_experiment_best</span></code>, <code class="docutils literal notranslate"><span class="pre">save_trial_best</span></code> and <code class="docutils literal notranslate"><span class="pre">save_trial_latest</span></code> parameters specify which
checkpoints to save. If multiple <code class="docutils literal notranslate"><span class="pre">save_*</span></code> parameters are specified, the union of the specified
checkpoints are saved.</p>
<section id="save-experiment-best">
<h4><code class="docutils literal notranslate"><span class="pre">save_experiment_best</span></code><a class="headerlink" href="#save-experiment-best" title="Permalink to this heading">#</a></h4>
<p>The number of the best checkpoints with validations over all trials to save (where best is measured
by the validation metric specified in the searcher configuration).</p>
</section>
<section id="save-trial-best">
<h4><code class="docutils literal notranslate"><span class="pre">save_trial_best</span></code><a class="headerlink" href="#save-trial-best" title="Permalink to this heading">#</a></h4>
<p>The number of the best checkpoints with validations of each trial to save.</p>
</section>
<section id="save-trial-latest">
<h4><code class="docutils literal notranslate"><span class="pre">save_trial_latest</span></code><a class="headerlink" href="#save-trial-latest" title="Permalink to this heading">#</a></h4>
<p>The number of the latest checkpoints of each trial to save.</p>
</section>
</section>
<section id="checkpoint-saving-policy">
<h3>Checkpoint Saving Policy<a class="headerlink" href="#checkpoint-saving-policy" title="Permalink to this heading">#</a></h3>
<p>The checkpoint garbage collection fields default to the following values:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">save_experiment_best</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">save_trial_best</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="nt">save_trial_latest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p>This policy will save the most recent <em>and</em> the best checkpoint per trial. In other words, if the
most recent checkpoint is also the <em>best</em> checkpoint for a given trial, only one checkpoint will be
saved for that trial. Otherwise, two checkpoints will be saved.</p>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h4>
<p>Suppose an experiment has the following trials, checkpoints and validation metrics (where
<code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code> is true):</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Trial
ID</p></th>
<th class="head"><p>Checkpoint
ID</p></th>
<th class="head"><p>Validation
Metric</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>null</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
<td><p>null</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>3</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>4</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>5</p></td>
<td><p>0.4</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>6</p></td>
<td><p>null</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>7</p></td>
<td><p>0.2</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>8</p></td>
<td><p>0.3</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>9</p></td>
<td><p>null</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>10</p></td>
<td><p>null</p></td>
</tr>
</tbody>
</table>
<p>The effect of various policies is enumerated in the following table:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">save_experiment_best</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">save_trial_best</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">save_trial_latest</span></code></p></th>
<th class="head"><p>Saved Checkpoint IDs</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>8,7</p></td>
</tr>
<tr class="row-even"><td><p>&gt;= 5</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>8,7,5,4,3</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>7,5</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>&gt;= 3</p></td>
<td><p>0</p></td>
<td><p>8,7,5,4,3</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>10,5</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>3</p></td>
<td><p>10,9,8,5,4,3</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>8,7,5</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>10,8,7,5</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>10,7,5</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>10,8,7,5</p></td>
</tr>
</tbody>
</table>
<p>If aggressive reclamation is desired, set <code class="docutils literal notranslate"><span class="pre">save_experiment_best</span></code> to a 1 or 2 and leave the other
parameters zero. For more conservative reclamation, set <code class="docutils literal notranslate"><span class="pre">save_trial_best</span></code> to 1 or 2; optionally
set <code class="docutils literal notranslate"><span class="pre">save_trial_latest</span></code> as well.</p>
<p>Checkpoints of an existing experiment can be garbage collected by changing the GC policy using the
<code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">experiment</span> <span class="pre">set</span> <span class="pre">gc-policy</span></code> subcommand of the Determined CLI.</p>
</section>
</section>
</section>
<section id="storage-type">
<h2>Storage Type<a class="headerlink" href="#storage-type" title="Permalink to this heading">#</a></h2>
<p>Determined currently supports several kinds of checkpoint storage, <code class="docutils literal notranslate"><span class="pre">gcs</span></code>, <code class="docutils literal notranslate"><span class="pre">s3</span></code>, <code class="docutils literal notranslate"><span class="pre">azure</span></code>, and
<code class="docutils literal notranslate"><span class="pre">shared_fs</span></code>, identified by the <code class="docutils literal notranslate"><span class="pre">type</span></code> subfield. Additional fields may also be required,
depending on the type of checkpoint storage in use. For example, to store checkpoints on Google
Cloud Storage:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">checkpoint_storage</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gcs</span>
<span class="w">  </span><span class="nt">bucket</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;your-bucket-name&gt;</span>
</pre></div>
</div>
<section id="google-cloud-storage">
<h3>Google Cloud Storage<a class="headerlink" href="#google-cloud-storage" title="Permalink to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">type:</span> <span class="pre">gcs</span></code> is specified, checkpoints will be stored on Google Cloud Storage (GCS).
Authentication is done using GCP’s “<a class="reference external" href="https://googleapis.dev/python/google-api-core/latest/auth.html">Application Default Credentials</a>” approach. When using Determined
inside Google Compute Engine (GCE), the simplest approach is to ensure that the VMs used by
Determined are running in a service account that has the “Storage Object Admin” role on the GCS
bucket being used for checkpoints. As an alternative (or when running outside of GCE), you can add
the appropriate <a class="reference external" href="https://cloud.google.com/docs/authentication/production#obtaining_and_providing_service_account_credentials_manually">service account credentials</a>
to your container (e.g., via a bind-mount), and then set the <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code>
environment variable to the container path where the credentials are located. See
<a class="reference internal" href="../../model-dev-guide/prepare-container/custom-env.html#environment-variables"><span class="std std-ref">Environment Variables</span></a> for more details on how to set environment variables in containers.</p>
<section id="bucket">
<h4><code class="docutils literal notranslate"><span class="pre">bucket</span></code><a class="headerlink" href="#bucket" title="Permalink to this heading">#</a></h4>
<p>Required. The GCS bucket name to use.</p>
</section>
<section id="prefix">
<h4><code class="docutils literal notranslate"><span class="pre">prefix</span></code><a class="headerlink" href="#prefix" title="Permalink to this heading">#</a></h4>
<p>Optional. The optional path prefix to use. Must not contain <code class="docutils literal notranslate"><span class="pre">..</span></code>. Note: Prefix is normalized,
e.g., <code class="docutils literal notranslate"><span class="pre">/pre/.//fix</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">/pre/fix</span></code></p>
</section>
</section>
<section id="amazon-s3">
<h3>Amazon S3<a class="headerlink" href="#amazon-s3" title="Permalink to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">type:</span> <span class="pre">s3</span></code> is specified, checkpoints will be stored in Amazon S3 or an S3-compatible object
store such as <a class="reference external" href="https://min.io/">MinIO</a>.</p>
<section id="id7">
<h4><code class="docutils literal notranslate"><span class="pre">bucket</span></code><a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h4>
<p>Required. The S3 bucket name to use.</p>
</section>
<section id="access-key">
<h4><code class="docutils literal notranslate"><span class="pre">access_key</span></code><a class="headerlink" href="#access-key" title="Permalink to this heading">#</a></h4>
<p>Required. The AWS access key to use.</p>
</section>
<section id="secret-key">
<h4><code class="docutils literal notranslate"><span class="pre">secret_key</span></code><a class="headerlink" href="#secret-key" title="Permalink to this heading">#</a></h4>
<p>Required. The AWS secret key to use.</p>
</section>
<section id="id8">
<h4><code class="docutils literal notranslate"><span class="pre">prefix</span></code><a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h4>
<p>Optional. The optional path prefix to use. Must not contain <code class="docutils literal notranslate"><span class="pre">..</span></code>. Note: Prefix is normalized,
e.g., <code class="docutils literal notranslate"><span class="pre">/pre/.//fix</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">/pre/fix</span></code></p>
</section>
<section id="endpoint-url">
<h4><code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code><a class="headerlink" href="#endpoint-url" title="Permalink to this heading">#</a></h4>
<p>Optional. The endpoint to use for S3 clones, e.g., <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8080/</span></code>. If not specified,
Amazon S3 will be used.</p>
</section>
</section>
<section id="azure-blob-storage">
<h3>Azure Blob Storage<a class="headerlink" href="#azure-blob-storage" title="Permalink to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">type:</span> <span class="pre">azure</span></code> is specified, checkpoints will be stored in Microsoft’s Azure Blob Storage.</p>
<p>Please only specify one of <code class="docutils literal notranslate"><span class="pre">connection_string</span></code> or the <code class="docutils literal notranslate"><span class="pre">account_url</span></code>, <code class="docutils literal notranslate"><span class="pre">credential</span></code> tuple.</p>
<section id="container">
<h4><code class="docutils literal notranslate"><span class="pre">container</span></code><a class="headerlink" href="#container" title="Permalink to this heading">#</a></h4>
<p>Required. The Azure Blob Storage container name to use.</p>
</section>
<section id="connection-string">
<h4><code class="docutils literal notranslate"><span class="pre">connection_string</span></code><a class="headerlink" href="#connection-string" title="Permalink to this heading">#</a></h4>
<p>Required. The connection string for the Azure Blob Storage service account to use.</p>
</section>
<section id="account-url">
<h4><code class="docutils literal notranslate"><span class="pre">account_url</span></code><a class="headerlink" href="#account-url" title="Permalink to this heading">#</a></h4>
<p>Required. The account URL for the Azure Blob Storage service account to use.</p>
</section>
<section id="credential">
<h4><code class="docutils literal notranslate"><span class="pre">credential</span></code><a class="headerlink" href="#credential" title="Permalink to this heading">#</a></h4>
<p>Optional. The credential to use with the <code class="docutils literal notranslate"><span class="pre">account_url</span></code>.</p>
</section>
</section>
<section id="shared-file-system">
<h3>Shared File System<a class="headerlink" href="#shared-file-system" title="Permalink to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">type:</span> <span class="pre">shared_fs</span></code> is specified, checkpoints will be written to a directory on the agent’s file
system. The assumption is that the system administrator has arranged for the same directory to be
mounted at every agent machine, and for the content of this directory to be the same on all agent
hosts (e.g., by using a distributed or network file system such as <a class="reference external" href="https://www.gluster.org/">GlusterFS</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Network_File_System">NFS</a>).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When downloading checkpoints from a shared file system (e.g., using <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">checkpoint</span> <span class="pre">download</span></code>),
we assume the same shared file system is mounted locally at the same <code class="docutils literal notranslate"><span class="pre">host_path</span></code>.</p>
</div>
<section id="host-path">
<h4><code class="docutils literal notranslate"><span class="pre">host_path</span></code><a class="headerlink" href="#host-path" title="Permalink to this heading">#</a></h4>
<p>Required. The file system path on each agent to use. This directory will be mounted to
<code class="docutils literal notranslate"><span class="pre">/determined_shared_fs</span></code> inside the trial container.</p>
<p><strong>Optional Fields</strong></p>
</section>
<section id="storage-path">
<h4><code class="docutils literal notranslate"><span class="pre">storage_path</span></code><a class="headerlink" href="#storage-path" title="Permalink to this heading">#</a></h4>
<p>Optional. The path where checkpoints will be written to and read from. Must be a subdirectory of the
<code class="docutils literal notranslate"><span class="pre">host_path</span></code> or an absolute path containing the <code class="docutils literal notranslate"><span class="pre">host_path</span></code>. If not specified, checkpoints are
written to and read from the <code class="docutils literal notranslate"><span class="pre">host_path</span></code>.</p>
</section>
<section id="propagation">
<h4><code class="docutils literal notranslate"><span class="pre">propagation</span></code><a class="headerlink" href="#propagation" title="Permalink to this heading">#</a></h4>
<p>Optional. <a class="reference external" href="https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation">Propagation behavior</a> for replicas of the
bind-mount. Defaults to <code class="docutils literal notranslate"><span class="pre">rprivate</span></code>.</p>
</section>
</section>
</section>
<section id="hyperparameters">
<span id="experiment-configuration-hyperparameters"></span><h2>Hyperparameters<a class="headerlink" href="#hyperparameters" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">hyperparameters</span></code> section defines the hyperparameter space for the experiment. The appropriate
hyperparameters for a specific model depend on the nature of the model being trained. In Determined,
it is common to specify hyperparameters that influence various aspects of the model’s behavior, such
as data augmentation, neural network architecture, and the choice of optimizer, as well as its
configuration.</p>
<p>To access the value of a hyperparameter in a particular trial, use the trial context with
<code class="xref py py-func docutils literal notranslate"><span class="pre">context.get_hparam()</span></code>. For example, you can access the
current value of a hyperparameter named <code class="docutils literal notranslate"><span class="pre">learning_rate</span></code> by calling
<code class="docutils literal notranslate"><span class="pre">context.get_hparam(&quot;learning_rate&quot;)</span></code>.</p>
<div class="admonition note" id="config-global-batch-size">
<p class="admonition-title">Note</p>
<p>Every experiment must specify a hyperparameter called <code class="docutils literal notranslate"><span class="pre">global_batch_size</span></code>. This hyperparameter
is required for distributed training to calculate the appropriate per-worker batch size. The
batch size per slot is computed at runtime, based on the number of slots used to train a single
trial of the experiment (see <a class="reference internal" href="#exp-config-resources-slots-per-trial"><span class="std std-ref">resources.slots_per_trial</span></a>). To access the updated values, use the trial context
with <code class="xref py py-func docutils literal notranslate"><span class="pre">context.get_per_slot_batch_size()</span></code>
and <code class="xref py py-func docutils literal notranslate"><span class="pre">context.get_global_batch_size()</span></code>.</p>
</div>
<p>The hyperparameter space is defined by a dictionary. Each key in the dictionary is the name of a
hyperparameter; the associated value defines the range of the hyperparameter. If the value is a
scalar, the hyperparameter is a constant; otherwise, the value should be a nested map. Here is an
example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hyperparameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">global_batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">64</span>
<span class="w">  </span><span class="nt">optimizer_config</span><span class="p">:</span>
<span class="w">    </span><span class="nt">optimizer</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">categorical</span>
<span class="w">      </span><span class="nt">vals</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SGD</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Adam</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RMSprop</span>
<span class="w">    </span><span class="nt">learning_rate</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">log</span>
<span class="w">      </span><span class="nt">minval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-5.0</span>
<span class="w">      </span><span class="nt">maxval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">      </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.0</span>
<span class="w">  </span><span class="nt">num_layers</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span>
<span class="w">    </span><span class="nt">minval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">maxval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">  </span><span class="nt">layer1_dropout</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">double</span>
<span class="w">    </span><span class="nt">minval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>
<span class="w">    </span><span class="nt">maxval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>
</pre></div>
</div>
<p>This configuration defines the following hyperparameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">global_batch_size</span></code>: a constant value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optimizer_config</span></code>: a top level nested hyperparameter with two child hyperparameters:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">optimizer</span></code>: a categorical hyperparameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate</span></code>: a log scale hyperparameter</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_layers</span></code>: an integer hyperparameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer1_dropout</span></code>: a double hyperparameter</p></li>
</ul>
<p>The field <code class="docutils literal notranslate"><span class="pre">optimizer_config</span></code> demonstrates how nesting can be used to organize hyperparameters.
Arbitrary levels of nesting are supported with all types of hyperparameters. Aside from
hyperparameters with constant values, the four types of hyperparameters – <code class="docutils literal notranslate"><span class="pre">categorical</span></code>,
<code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, and <code class="docutils literal notranslate"><span class="pre">log</span></code> – can take on a range of possible values. The following sections
cover how to configure the hyperparameter range for each type of hyperparameter.</p>
<section id="categorical">
<h3>Categorical<a class="headerlink" href="#categorical" title="Permalink to this heading">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">categorical</span></code> hyperparameter ranges over a set of specified values. The possible values are
defined by the <code class="docutils literal notranslate"><span class="pre">vals</span></code> key. <code class="docutils literal notranslate"><span class="pre">vals</span></code> is a list; each element of the list can be of any valid YAML
type, such as a boolean, a string, a number, or a collection.</p>
</section>
<section id="double">
<h3>Double<a class="headerlink" href="#double" title="Permalink to this heading">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">double</span></code> hyperparameter is a floating point variable. The minimum and maximum values of the
variable are defined by the <code class="docutils literal notranslate"><span class="pre">minval</span></code> and <code class="docutils literal notranslate"><span class="pre">maxval</span></code> keys, respectively (inclusive of endpoints).</p>
<p>When doing a grid search, the <code class="docutils literal notranslate"><span class="pre">count</span></code> key must also be specified; this defines the number of
points in the grid for this hyperparameter. Grid points are evenly spaced between <code class="docutils literal notranslate"><span class="pre">minval</span></code> and
<code class="docutils literal notranslate"><span class="pre">maxval</span></code>. See <a class="reference internal" href="../../model-dev-guide/hyperparameter/search-methods/hp-grid.html#topic-guides-hp-tuning-det-grid"><span class="std std-ref">Grid Method</span></a> for details.</p>
</section>
<section id="integer">
<h3>Integer<a class="headerlink" href="#integer" title="Permalink to this heading">#</a></h3>
<p>An <code class="docutils literal notranslate"><span class="pre">int</span></code> hyperparameter is an integer variable. The minimum and maximum values of the variable are
defined by the <code class="docutils literal notranslate"><span class="pre">minval</span></code> and <code class="docutils literal notranslate"><span class="pre">maxval</span></code> keys, respectively (inclusive of endpoints).</p>
<p>When doing a grid search, the <code class="docutils literal notranslate"><span class="pre">count</span></code> key must also be specified; this defines the number of
points in the grid for this hyperparameter. Grid points are evenly spaced between <code class="docutils literal notranslate"><span class="pre">minval</span></code> and
<code class="docutils literal notranslate"><span class="pre">maxval</span></code>. See <a class="reference internal" href="../../model-dev-guide/hyperparameter/search-methods/hp-grid.html#topic-guides-hp-tuning-det-grid"><span class="std std-ref">Grid Method</span></a> for details.</p>
</section>
<section id="log">
<h3>Log<a class="headerlink" href="#log" title="Permalink to this heading">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">log</span></code> hyperparameter is a floating point variable that is searched on a logarithmic scale. The
base of the logarithm is specified by the <code class="docutils literal notranslate"><span class="pre">base</span></code> field; the minimum and maximum exponent values of
the hyperparameter are given by the <code class="docutils literal notranslate"><span class="pre">minval</span></code> and <code class="docutils literal notranslate"><span class="pre">maxval</span></code> fields, respectively (inclusive of
endpoints).</p>
<p>When doing a grid search, the <code class="docutils literal notranslate"><span class="pre">count</span></code> key must also be specified; this defines the number of
points in the grid for this hyperparameter. Grid points are evenly spaced between <code class="docutils literal notranslate"><span class="pre">minval</span></code> and
<code class="docutils literal notranslate"><span class="pre">maxval</span></code>. See <a class="reference internal" href="../../model-dev-guide/hyperparameter/search-methods/hp-grid.html#topic-guides-hp-tuning-det-grid"><span class="std std-ref">Grid Method</span></a> for details.</p>
</section>
</section>
<section id="searcher">
<span id="experiment-configuration-searcher"></span><h2>Searcher<a class="headerlink" href="#searcher" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">searcher</span></code> section defines how the experiment’s hyperparameter space will be explored. To run
an experiment that trains a single trial with fixed hyperparameters, specify the <code class="docutils literal notranslate"><span class="pre">single</span></code> searcher
and specify constant values for the model’s hyperparameters. Otherwise, Determined supports three
different hyperparameter search algorithms: <code class="docutils literal notranslate"><span class="pre">adaptive_asha</span></code>, <code class="docutils literal notranslate"><span class="pre">random</span></code>, and <code class="docutils literal notranslate"><span class="pre">grid</span></code>. To define
your own hyperparameter search algorithm, specify the <code class="docutils literal notranslate"><span class="pre">custom</span></code> searcher. For more information
about custom search algorithms, see <a class="reference internal" href="../../model-dev-guide/hyperparameter/search-methods/hp-custom.html#topic-guides-hp-tuning-det-custom"><span class="std std-ref">Custom Search Methods</span></a>.</p>
<p>The name of the hyperparameter search algorithm to use is configured via the <code class="docutils literal notranslate"><span class="pre">name</span></code> field; the
remaining fields configure the behavior of the searcher and depend on the searcher being used. For
example, to configure a <code class="docutils literal notranslate"><span class="pre">random</span></code> hyperparameter search that trains 5 trials for 1000 batches each:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">searcher</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">random</span>
<span class="w">  </span><span class="nt">metric</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">accuracy</span>
<span class="w">  </span><span class="nt">max_trials</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">    </span><span class="nt">batches</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
</pre></div>
</div>
<p>For details on using Determined to perform hyperparameter search, refer to
<a class="reference internal" href="../../model-dev-guide/hyperparameter/overview.html#hyperparameter-tuning"><span class="std std-ref">Hyperparameter Tuning</span></a>. For more information on the search methods supported by Determined,
refer to <a class="reference internal" href="../../model-dev-guide/hyperparameter/overview.html#hyperparameter-tuning"><span class="std std-ref">Hyperparameter Tuning</span></a>.</p>
<section id="single">
<h3>Single<a class="headerlink" href="#single" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">single</span></code> search method does not perform a hyperparameter search at all; rather, it trains a
single trial for a fixed length. When using this search method, all of the hyperparameters specified
in the <a class="reference internal" href="#experiment-configuration-hyperparameters"><span class="std std-ref">hyperparameters</span></a> section must be constants.
By default, validation metrics are only computed once, after the specified length of training has
been completed; <a class="reference internal" href="#experiment-config-min-validation-period"><span class="std std-ref">min_validation_period</span></a> can be used
to specify that validation metrics should be computed more frequently.</p>
<section id="metric">
<h4><code class="docutils literal notranslate"><span class="pre">metric</span></code><a class="headerlink" href="#metric" title="Permalink to this heading">#</a></h4>
<p>Required. The name of the validation metric used to evaluate the performance of a hyperparameter
configuration.</p>
</section>
<section id="max-length">
<span id="experiment-configuration-single-searcher-max-length"></span><h4><code class="docutils literal notranslate"><span class="pre">max_length</span></code><a class="headerlink" href="#max-length" title="Permalink to this heading">#</a></h4>
<p>Required. The length of the trial.</p>
<ul>
<li><p>This needs to be set in the unit of records, batches, or epochs using a nested dictionary. For
example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">   </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
</li>
<li><dl class="simple">
<dt>If this is in the unit of epochs, <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> must be</dt><dd><p>specified.</p>
</dd>
</dl>
</li>
</ul>
<p><strong>Optional Fields</strong></p>
</section>
<section id="smaller-is-better">
<h4><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code><a class="headerlink" href="#smaller-is-better" title="Permalink to this heading">#</a></h4>
<p>Optional. Whether to minimize or maximize the metric defined above. The default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>
(minimize).</p>
</section>
<section id="source-trial-id">
<h4><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code><a class="headerlink" href="#source-trial-id" title="Permalink to this heading">#</a></h4>
<p>Optional. If specified, the weights of this trial will be initialized to the most recent checkpoint
of the given trial ID. This will fail if the source trial’s model architecture is inconsistent with
the model architecture of this experiment.</p>
</section>
<section id="source-checkpoint-uuid">
<h4><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code><a class="headerlink" href="#source-checkpoint-uuid" title="Permalink to this heading">#</a></h4>
<p>Optional. Like <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code>, but specifies an arbitrary checkpoint from which to initialize
weights. At most one of <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code> or <code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code> should be set.</p>
</section>
</section>
<section id="random">
<h3>Random<a class="headerlink" href="#random" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">random</span></code> search method implements a simple random search. The user specifies how many
hyperparameter configurations should be trained and how long each configuration should be trained
for; the configurations are sampled randomly from the hyperparameter space. Each trial is trained
for the specified length and then validation metrics are computed. <a class="reference internal" href="#experiment-config-min-validation-period"><span class="std std-ref">min_validation_period</span></a> can be used to specify that validation metrics should be
computed more frequently.</p>
<section id="id9">
<h4><code class="docutils literal notranslate"><span class="pre">metric</span></code><a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h4>
<p>Required. The name of the validation metric used to evaluate the performance of a hyperparameter
configuration.</p>
</section>
<section id="max-trials">
<h4><code class="docutils literal notranslate"><span class="pre">max_trials</span></code><a class="headerlink" href="#max-trials" title="Permalink to this heading">#</a></h4>
<p>Required. The number of trials, i.e., hyperparameter configurations, to evaluate.</p>
</section>
<section id="id10">
<h4><code class="docutils literal notranslate"><span class="pre">max_length</span></code><a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h4>
<p>Required. The length of each trial.</p>
<ul>
<li><p>This needs to be set in the unit of records, batches, or epochs using a nested dictionary. For
example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">   </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
</li>
<li><p>If this is in the unit of epochs, <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> must be
specified.</p></li>
</ul>
<p><strong>Optional Fields</strong></p>
</section>
<section id="id11">
<h4><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code><a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h4>
<p>Optional. Whether to minimize or maximize the metric defined above. The default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>
(minimize).</p>
</section>
<section id="max-concurrent-trials">
<h4><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code><a class="headerlink" href="#max-concurrent-trials" title="Permalink to this heading">#</a></h4>
<p>Optional. The maximum number of trials that can be worked on simultaneously. The default value is
<code class="docutils literal notranslate"><span class="pre">16</span></code>. When the value is <code class="docutils literal notranslate"><span class="pre">0</span></code> we will work on as many trials as possible.</p>
</section>
<section id="id12">
<h4><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code><a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h4>
<p>Optional. If specified, the weights of <em>every</em> trial in the search will be initialized to the most
recent checkpoint of the given trial ID. This will fail if the source trial’s model architecture is
incompatible with the model architecture of any of the trials in this experiment.</p>
</section>
<section id="id13">
<h4><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code><a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h4>
<p>Optional. Like <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code> but specifies an arbitrary checkpoint from which to initialize
weights. At most one of <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code> or <code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code> should be set.</p>
</section>
</section>
<section id="grid">
<h3>Grid<a class="headerlink" href="#grid" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">grid</span></code> search method performs a grid search. The coordinates of the hyperparameter grid are
specified via the <code class="docutils literal notranslate"><span class="pre">hyperparameters</span></code> field. For more details see the
<a class="reference internal" href="../../model-dev-guide/hyperparameter/search-methods/hp-grid.html#topic-guides-hp-tuning-det-grid"><span class="std std-ref">Grid Method</span></a>.</p>
<section id="id14">
<h4><code class="docutils literal notranslate"><span class="pre">metric</span></code><a class="headerlink" href="#id14" title="Permalink to this heading">#</a></h4>
<p>Required. The name of the validation metric used to evaluate the performance of a hyperparameter
configuration.</p>
</section>
<section id="id15">
<h4><code class="docutils literal notranslate"><span class="pre">max_length</span></code><a class="headerlink" href="#id15" title="Permalink to this heading">#</a></h4>
<p>Required. The length of each trial.</p>
<ul>
<li><p>This needs to be set in the unit of records, batches, or epochs using a nested dictionary. For
example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">   </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
</li>
<li><p>If this is in the unit of epochs, <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> must be
specified.</p></li>
</ul>
<p><strong>Optional Fields</strong></p>
</section>
<section id="id16">
<h4><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code><a class="headerlink" href="#id16" title="Permalink to this heading">#</a></h4>
<p>Optional. Whether to minimize or maximize the metric defined above. The default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>
(minimize).</p>
</section>
<section id="id17">
<h4><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code><a class="headerlink" href="#id17" title="Permalink to this heading">#</a></h4>
<p>Optional. The maximum number of trials that can be worked on simultaneously. The default value is
<code class="docutils literal notranslate"><span class="pre">16</span></code>. When the value is <code class="docutils literal notranslate"><span class="pre">0</span></code> we will work on as many trials as possible.</p>
</section>
<section id="id18">
<h4><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code><a class="headerlink" href="#id18" title="Permalink to this heading">#</a></h4>
<p>Optional. If specified, the weights of this trial will be initialized to the most recent checkpoint
of the given trial ID. This will fail if the source trial’s model architecture is inconsistent with
the model architecture of this experiment.</p>
</section>
<section id="id19">
<h4><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code><a class="headerlink" href="#id19" title="Permalink to this heading">#</a></h4>
<p>Optional. Like <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code>, but specifies an arbitrary checkpoint from which to initialize
weights. At most one of <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code> or <code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code> should be set.</p>
</section>
</section>
<section id="adaptive-asha">
<span id="experiment-configuration-searcher-adaptive"></span><h3>Adaptive ASHA<a class="headerlink" href="#adaptive-asha" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">adaptive_asha</span></code> search method employs multiple calls to the asynchronous successive halving
algorithm (<a class="reference external" href="https://arxiv.org/pdf/1810.05934.pdf">ASHA</a>) which is suitable for large-scale
experiments with hundreds or thousands of trials.</p>
<section id="id20">
<h4><code class="docutils literal notranslate"><span class="pre">metric</span></code><a class="headerlink" href="#id20" title="Permalink to this heading">#</a></h4>
<p>Required. The name of the validation metric used to evaluate the performance of a hyperparameter
configuration.</p>
</section>
<section id="id21">
<h4><code class="docutils literal notranslate"><span class="pre">max_length</span></code><a class="headerlink" href="#id21" title="Permalink to this heading">#</a></h4>
<p>Required. The maximum training length of any one trial. The vast majority of trials will be stopped
early, and thus only a small fraction of trials will actually be trained for this long. This
quantity is domain-specific and should roughly reflect the length of training needed for the model
to converge on the data set.</p>
<ul>
<li><p>This needs to be set in the unit of records, batches, or epochs using a nested dictionary. For
example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">max_length</span><span class="p">:</span>
<span class="w">   </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
</li>
<li><p>If this is in the unit of epochs, <a class="reference internal" href="#config-records-per-epoch"><span class="std std-ref">records_per_epoch</span></a> must be
specified.</p></li>
</ul>
</section>
<section id="id22">
<h4><code class="docutils literal notranslate"><span class="pre">max_trials</span></code><a class="headerlink" href="#id22" title="Permalink to this heading">#</a></h4>
<p>Required. The number of trials, i.e., hyperparameter configurations, to evaluate.</p>
</section>
<section id="id23">
<h4><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code><a class="headerlink" href="#id23" title="Permalink to this heading">#</a></h4>
<p>Optional. Whether to minimize or maximize the metric defined above. The default value is <code class="docutils literal notranslate"><span class="pre">true</span></code>
(minimize).</p>
</section>
<section id="mode">
<h4><code class="docutils literal notranslate"><span class="pre">mode</span></code><a class="headerlink" href="#mode" title="Permalink to this heading">#</a></h4>
<p>Optional. How aggressively to perform early stopping. There are three modes: <code class="docutils literal notranslate"><span class="pre">aggressive</span></code>,
<code class="docutils literal notranslate"><span class="pre">standard</span></code>, and <code class="docutils literal notranslate"><span class="pre">conservative</span></code>; the default is <code class="docutils literal notranslate"><span class="pre">standard</span></code>.</p>
<p>These modes differ in the degree to which early-stopping is used. In <code class="docutils literal notranslate"><span class="pre">aggressive</span></code> mode, the
searcher quickly stops underperforming trials, which enables the searcher to explore more
hyperparameter configurations, but at the risk of discarding a configuration too soon. On the other
end of the spectrum, <code class="docutils literal notranslate"><span class="pre">conservative</span></code> mode performs significantly less downsampling, but as a
consequence does not explore as many configurations given the same budget. We recommend using either
<code class="docutils literal notranslate"><span class="pre">aggressive</span></code> or <code class="docutils literal notranslate"><span class="pre">standard</span></code> mode.</p>
</section>
<section id="stop-once">
<h4><code class="docutils literal notranslate"><span class="pre">stop_once</span></code><a class="headerlink" href="#stop-once" title="Permalink to this heading">#</a></h4>
<p>Optional. If <code class="docutils literal notranslate"><span class="pre">stop_once</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, we will use a variant of ASHA that will not resume
trials once stopped. This variant defaults to continuing training and will only stop trials if there
is enough evidence to terminate training. We recommend using this version of ASHA when training a
trial for the max length as fast as possible is important or when fault tolerance is too expensive.</p>
</section>
<section id="divisor">
<h4><code class="docutils literal notranslate"><span class="pre">divisor</span></code><a class="headerlink" href="#divisor" title="Permalink to this heading">#</a></h4>
<p>Optional. The fraction of trials to keep at each rung, and also determines the training length for
each rung. The default setting is <code class="docutils literal notranslate"><span class="pre">4</span></code>; only advanced users should consider changing this value.</p>
</section>
<section id="max-rungs">
<h4><code class="docutils literal notranslate"><span class="pre">max_rungs</span></code><a class="headerlink" href="#max-rungs" title="Permalink to this heading">#</a></h4>
<p>Optional. The maximum number of times we evaluate intermediate results for a trial and terminate
poorly performing trials. The default value is <code class="docutils literal notranslate"><span class="pre">5</span></code>; only advanced users should consider changing
this value.</p>
</section>
<section id="id24">
<h4><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code><a class="headerlink" href="#id24" title="Permalink to this heading">#</a></h4>
<p>Optional. The maximum number of trials that can be worked on simultaneously. The default value is
<code class="docutils literal notranslate"><span class="pre">16</span></code>, and we set reasonable values depending on <code class="docutils literal notranslate"><span class="pre">max_trials</span></code> and the number of rungs in the
brackets. This is akin to controlling the degree of parallelism of the experiment. If this value is
less than the number of brackets produced by the adaptive algorithm, it will be rounded up.</p>
</section>
<section id="id25">
<h4><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code><a class="headerlink" href="#id25" title="Permalink to this heading">#</a></h4>
<p>Optional. If specified, the weights of <em>every</em> trial in the search will be initialized to the most
recent checkpoint of the given trial ID. This will fail if the source trial’s model architecture is
inconsistent with the model architecture of any of the trials in this experiment.</p>
</section>
<section id="id26">
<h4><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code><a class="headerlink" href="#id26" title="Permalink to this heading">#</a></h4>
<p>Optional. Like <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code>, but specifies an arbitrary checkpoint from which to initialize
weights. At most one of <code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code> or <code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code> should be set.</p>
</section>
</section>
</section>
<section id="resources">
<span id="exp-config-resources"></span><h2>Resources<a class="headerlink" href="#resources" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">resources</span></code> section defines the resources that an experiment is allowed to use.</p>
<section id="slots-per-trial">
<span id="exp-config-resources-slots-per-trial"></span><h3><code class="docutils literal notranslate"><span class="pre">slots_per_trial</span></code><a class="headerlink" href="#slots-per-trial" title="Permalink to this heading">#</a></h3>
<p>Optional. The number of slots to use for each trial of this experiment. The default value is <code class="docutils literal notranslate"><span class="pre">1</span></code>;
specifying a value greater than 1 means that multiple GPUs will be used in parallel. Training on
multiple GPUs is done using data parallelism. Configuring <code class="docutils literal notranslate"><span class="pre">slots_per_trial</span></code> to be greater than
<code class="docutils literal notranslate"><span class="pre">max_slots</span></code> is not sensible and will result in an error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">slots_per_trial</span></code> to enable data parallel training for PyTorch can alter the behavior of
certain models, as described in the <a class="reference external" href="https://pytorch.org/docs/stable/generated/torch.nn.DataParallel.html#torch.nn.DataParallel">PyTorch documentation</a>.</p>
</div>
</section>
<section id="max-slots">
<h3><code class="docutils literal notranslate"><span class="pre">max_slots</span></code><a class="headerlink" href="#max-slots" title="Permalink to this heading">#</a></h3>
<p>Optional. The maximum number of scheduler slots that this experiment is allowed to use at any one
time. The slot limit of an active experiment can be changed using <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">experiment</span> <span class="pre">set</span> <span class="pre">max-slots</span>
<span class="pre">&lt;id&gt;</span> <span class="pre">&lt;slots&gt;</span></code>. By default, there is no limit on the number of slots an experiment can use.</p>
<p>When the cluster is deployed with an <a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/_index.html#sysadmin-deploy-on-hpc"><span class="std std-ref">HPC workload manager</span></a>, this
value is ignored and instead managed by the configured workload manager.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">max_slots</span></code> is only considered when scheduling jobs; it is not currently used when provisioning
dynamic agents. This means that we may provision more instances than the experiment can schedule.</p>
</div>
</section>
<section id="weight">
<h3><code class="docutils literal notranslate"><span class="pre">weight</span></code><a class="headerlink" href="#weight" title="Permalink to this heading">#</a></h3>
<p>Optional. The weight of this experiment in the scheduler. When multiple experiments are running at
the same time, the number of slots assigned to each experiment will be approximately proportional to
its weight. The weight of an active experiment can be changed using <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">experiment</span> <span class="pre">set</span> <span class="pre">weight</span> <span class="pre">&lt;id&gt;</span>
<span class="pre">&lt;weight&gt;</span></code>. The default weight is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>When the cluster is deployed with an <a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/_index.html#sysadmin-deploy-on-hpc"><span class="std std-ref">HPC workload manager</span></a>, this
value is ignored and instead managed by the configured workload manager.</p>
</section>
<section id="shm-size">
<h3><code class="docutils literal notranslate"><span class="pre">shm_size</span></code><a class="headerlink" href="#shm-size" title="Permalink to this heading">#</a></h3>
<p>Optional. The size of <code class="docutils literal notranslate"><span class="pre">/dev/shm</span></code> for task containers. The value can be a number in bytes or a
number with a suffix (e.g., <code class="docutils literal notranslate"><span class="pre">128M</span></code> for 128MiB or <code class="docutils literal notranslate"><span class="pre">1.5G</span></code> for 1.5GiB). Defaults to <code class="docutils literal notranslate"><span class="pre">4294967296</span></code>
(4GiB). If set, this value overrides the value specified in the <a class="reference internal" href="../deploy/config/master-config-reference.html#master-config-reference"><span class="std std-ref">master configuration</span></a>.</p>
</section>
<section id="priority">
<h3><code class="docutils literal notranslate"><span class="pre">priority</span></code><a class="headerlink" href="#priority" title="Permalink to this heading">#</a></h3>
<p>Optional. The priority assigned to this experiment. Only applicable when using the <code class="docutils literal notranslate"><span class="pre">priority</span></code>
scheduler. Experiments with smaller priority values are scheduled before experiments with higher
priority values. If using Kubernetes, the opposite is true; experiments with higher priorities are
scheduled before those with lower priorities. Refer to <span class="xref std std-ref">scheduling</span> for more information.</p>
<p>When the cluster is deployed with an <a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/_index.html#sysadmin-deploy-on-hpc"><span class="std std-ref">HPC workload manager</span></a>, this
value is ignored and instead managed by the configured workload manager.</p>
</section>
<section id="resource-pool">
<h3><code class="docutils literal notranslate"><span class="pre">resource_pool</span></code><a class="headerlink" href="#resource-pool" title="Permalink to this heading">#</a></h3>
<p>Optional. The resource pool where this experiment will be scheduled. If no resource pool is
specified, experiments will run in the default GPU pool. Refer to <span class="xref std std-ref">resource-pools</span> for more
information.</p>
</section>
<section id="devices">
<span id="exp-resources-devices"></span><h3><code class="docutils literal notranslate"><span class="pre">devices</span></code><a class="headerlink" href="#devices" title="Permalink to this heading">#</a></h3>
<p>Optional. A list of device strings to pass to the Docker daemon. Each entry in the list is
equivalent to a <code class="docutils literal notranslate"><span class="pre">--device</span> <span class="pre">DEVICE</span></code> command-line argument to <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code>. <code class="docutils literal notranslate"><span class="pre">devices</span></code> is honored
by resource managers of type <code class="docutils literal notranslate"><span class="pre">agent</span></code> but is ignored by resource managers of type <code class="docutils literal notranslate"><span class="pre">kubernetes</span></code>.
See <a class="reference internal" href="../deploy/config/master-config-reference.html#master-config-reference"><span class="std std-ref">master configuration</span></a> for details about resource managers.</p>
</section>
<section id="agent-label">
<h3><code class="docutils literal notranslate"><span class="pre">agent_label</span></code><a class="headerlink" href="#agent-label" title="Permalink to this heading">#</a></h3>
<p>Optional. This field has been deprecated and will be ignored. Use <code class="docutils literal notranslate"><span class="pre">resource_pool</span></code> instead.</p>
</section>
</section>
<section id="bind-mounts">
<span id="exp-bind-mounts"></span><h2>Bind Mounts<a class="headerlink" href="#bind-mounts" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">bind_mounts</span></code> section specifies directories that are bind-mounted into every container
launched for this experiment. Bind mounts are often used to enable trial containers to access
additional data that is not part of the model definition directory.</p>
<p>This field should consist of an array of entries; each entry has the form described below. Users
must ensure that the specified host paths are accessible on all agent hosts (e.g., by configuring a
network file system appropriately).</p>
<section id="id27">
<h3><code class="docutils literal notranslate"><span class="pre">host_path</span></code><a class="headerlink" href="#id27" title="Permalink to this heading">#</a></h3>
<p>Required. The file system path on each agent to use. Must be an absolute filepath.</p>
</section>
<section id="container-path">
<h3><code class="docutils literal notranslate"><span class="pre">container_path</span></code><a class="headerlink" href="#container-path" title="Permalink to this heading">#</a></h3>
<p>Required. The file system path in the container to use. May be a relative filepath, in which case it
will be mounted relative to the working directory inside the container. It is not allowed to mount
directly into the working directory (i.e., <code class="docutils literal notranslate"><span class="pre">container_path</span> <span class="pre">==</span> <span class="pre">&quot;.&quot;</span></code>) to reduce the risk of
cluttering the host filesystem.</p>
<p>For each bind mount, the following optional fields may also be specified:</p>
</section>
<section id="read-only">
<h3><code class="docutils literal notranslate"><span class="pre">read_only</span></code><a class="headerlink" href="#read-only" title="Permalink to this heading">#</a></h3>
<p>Required. Whether the bind-mount should be a read-only mount. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="id28">
<h3><code class="docutils literal notranslate"><span class="pre">propagation</span></code><a class="headerlink" href="#id28" title="Permalink to this heading">#</a></h3>
<p>Required. <a class="reference external" href="https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation">Propagation behavior</a> for replicas of the
bind-mount. Defaults to <code class="docutils literal notranslate"><span class="pre">rprivate</span></code>.</p>
<p>For example, to mount <code class="docutils literal notranslate"><span class="pre">/data</span></code> on the host to the same path in the container, use:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bind_mounts</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data</span>
<span class="w">    </span><span class="nt">container_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data</span>
</pre></div>
</div>
<p>It is also possible to mount multiple paths:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bind_mounts</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data</span>
<span class="w">    </span><span class="nt">container_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/shared/read-only-data</span>
<span class="w">    </span><span class="nt">container_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/shared/read-only-data</span>
<span class="w">    </span><span class="nt">read_only</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
</section>
<section id="environment">
<span id="exp-environment"></span><h2>Environment<a class="headerlink" href="#environment" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> section defines properties of the container environment that is used to execute
workloads for this experiment. For more information on customizing the trial environment, refer to
<a class="reference internal" href="../../model-dev-guide/prepare-container/custom-env.html#custom-env"><span class="std std-ref">Customizing Your Environment</span></a>.</p>
<section id="image">
<span id="exp-environment-image"></span><h3><code class="docutils literal notranslate"><span class="pre">image</span></code><a class="headerlink" href="#image" title="Permalink to this heading">#</a></h3>
<p>Optional. The Docker image to use when executing the workload. This image must be accessible via
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">pull</span></code> to every Determined agent machine in the cluster. Users can configure different
container images for NVIDIA GPU tasks using <code class="docutils literal notranslate"><span class="pre">cuda</span></code> key (<code class="docutils literal notranslate"><span class="pre">gpu</span></code> prior to 0.17.6), CPU tasks using
<code class="docutils literal notranslate"><span class="pre">cpu</span></code> key, and ROCm (AMD GPU) tasks using <code class="docutils literal notranslate"><span class="pre">rocm</span></code> key. Default values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">determinedai/environments:cuda-11.3-pytorch-1.12-tf-2.11-gpu-0.24.0</span></code> for NVIDIA GPUs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">determinedai/environments:py-3.8-pytorch-1.12-tf-2.11-cpu-0.24.0</span></code> for CPUs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">determinedai/environments:rocm-5.0-pytorch-1.10-tf-2.7-rocm-0.24.0</span></code> for ROCm.</p></li>
</ul>
<p>When the cluster is configured with <a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">resource_manager.type: slurm</span></a> and <code class="docutils literal notranslate"><span class="pre">container_run_type:</span> <span class="pre">singularity</span></code>, images are executed using
the Singularity container runtime which provides additional options for specifying the container
image. The image can be:</p>
<ul class="simple">
<li><p>A full path to a local Singulary image (beginning with a / character).</p></li>
<li><p>Any of the other supported Singularity container formats identified by prefix (e.g.
<code class="docutils literal notranslate"><span class="pre">instance://</span></code>, <code class="docutils literal notranslate"><span class="pre">library://</span></code>, <code class="docutils literal notranslate"><span class="pre">shub://</span></code>, <code class="docutils literal notranslate"><span class="pre">oras://</span></code>, or <code class="docutils literal notranslate"><span class="pre">docker://</span></code>). See the
<a class="reference external" href="https://docs.sylabs.io/guides/3.7/user-guide/cli/singularity_run.html">Singularity run</a>
command documentation for a full description of the capabilities.</p></li>
<li><p>A Singularity image provided via the <code class="docutils literal notranslate"><span class="pre">singularity_image_root</span></code> configured for the cluster as
described in <a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/singularity.html#slurm-image-config"><span class="std std-ref">Provide a Container Image Cache</span></a>.</p></li>
<li><p>If none of the above applies, Determined will apply the <code class="docutils literal notranslate"><span class="pre">docker://</span></code> prefix to the image.</p></li>
</ul>
<p>When the cluster is configured with <a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">resource_manager.type: slurm</span></a> and <code class="docutils literal notranslate"><span class="pre">container_run_type:</span> <span class="pre">podman</span></code>, images are executed using the
Podman container runtime. The image can be any of the supported PodMan container formats identified
by transport (e.g. <code class="docutils literal notranslate"><span class="pre">docker:</span></code> (the default), <code class="docutils literal notranslate"><span class="pre">docker-archive:</span></code>, <code class="docutils literal notranslate"><span class="pre">docker-daemon:</span></code>, or
<code class="docutils literal notranslate"><span class="pre">oci-archive:</span></code>). See the <a class="reference external" href="https://docs.podman.io/en/latest/markdown/podman-run.1.html">Podman run</a> command documentation for a full
description of the capabilities.</p>
<p>When the cluster is configured with <a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">resource_manager.type: slurm</span></a> and <code class="docutils literal notranslate"><span class="pre">container_run_type:</span> <span class="pre">enroot</span></code>, images are executed using the
Enroot container runtime. The image name must resolve to an Enroot container name created by the
user before launching the Determined task. To enable the default docker image references used by
Determined to be found in the Enroot container list the following transformations are applied to the
image name (this is the same transformation performed by the <code class="docutils literal notranslate"><span class="pre">enroot</span> <span class="pre">import</span></code> command):</p>
<ul class="simple">
<li><p>Any forward slash character in the image name (<code class="docutils literal notranslate"><span class="pre">/</span></code>) is replaced with a plus sign (<code class="docutils literal notranslate"><span class="pre">+</span></code>)</p></li>
<li><p>Any colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) is replaced with a plus sign (<code class="docutils literal notranslate"><span class="pre">+</span></code>)</p></li>
</ul>
<p>See <a class="reference internal" href="../../setup-cluster/deploy-cluster/slurm/slurm-requirements.html#enroot-config-requirements"><span class="std std-ref">Enroot Requirements</span></a> for more information.</p>
</section>
<section id="force-pull-image">
<h3><code class="docutils literal notranslate"><span class="pre">force_pull_image</span></code><a class="headerlink" href="#force-pull-image" title="Permalink to this heading">#</a></h3>
<p>Optional. Forcibly pull the image from the Docker registry, bypassing the Docker or Singularity
built-in cache. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="registry-auth">
<h3><code class="docutils literal notranslate"><span class="pre">registry_auth</span></code><a class="headerlink" href="#registry-auth" title="Permalink to this heading">#</a></h3>
<p>Optional. The <a class="reference external" href="https://docs.docker.com/engine/api/v1.30/#operation/SystemAuth">Docker registry credentials</a> to use when pulling a custom
base Docker image, if needed. Credentials are specified as the following nested fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">username</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">password</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">serveraddress</span></code> (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">email</span></code> (optional)</p></li>
</ul>
</section>
<section id="environment-variables">
<h3><code class="docutils literal notranslate"><span class="pre">environment_variables</span></code><a class="headerlink" href="#environment-variables" title="Permalink to this heading">#</a></h3>
<p>Optional. A list of environment variables that will be set in every trial container. Each element of
the list should be a string of the form <code class="docutils literal notranslate"><span class="pre">NAME=VALUE</span></code>. See <a class="reference internal" href="../../model-dev-guide/prepare-container/custom-env.html#environment-variables"><span class="std std-ref">Environment Variables</span></a> for more
details. You can customize environment variables for CUDA (NVIDIA GPU), CPU, and ROCm (AMD GPU)
tasks differently by specifying a dict with <code class="docutils literal notranslate"><span class="pre">cuda</span></code> (<code class="docutils literal notranslate"><span class="pre">gpu</span></code> prior to 0.17.6), <code class="docutils literal notranslate"><span class="pre">cpu</span></code>, and
<code class="docutils literal notranslate"><span class="pre">rocm</span></code> keys.</p>
</section>
<section id="pod-spec">
<span id="exp-environment-pod-spec"></span><h3><code class="docutils literal notranslate"><span class="pre">pod_spec</span></code><a class="headerlink" href="#pod-spec" title="Permalink to this heading">#</a></h3>
<p>Optional. Only applicable when running Determined on Kubernetes. Applies a pod spec to the pods that
are launched by Determined for this task. See <a class="reference internal" href="../../setup-cluster/deploy-cluster/k8s/custom-pod-specs.html#custom-pod-specs"><span class="std std-ref">Customize a Pod</span></a> for details.</p>
</section>
<section id="add-capabilities">
<span id="exp-environment-add-capabilities"></span><h3><code class="docutils literal notranslate"><span class="pre">add_capabilities</span></code><a class="headerlink" href="#add-capabilities" title="Permalink to this heading">#</a></h3>
<p>Optional. A list of Linux capabilities to grant to task containers. Each entry in the list is
equivalent to a <code class="docutils literal notranslate"><span class="pre">--cap-add</span> <span class="pre">CAP</span></code> command-line argument to <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code>. <code class="docutils literal notranslate"><span class="pre">add_capabilities</span></code> is
honored by resource managers of type <code class="docutils literal notranslate"><span class="pre">agent</span></code> but is ignored by resource managers of type
<code class="docutils literal notranslate"><span class="pre">kubernetes</span></code>. See <a class="reference internal" href="../deploy/config/master-config-reference.html#master-config-reference"><span class="std std-ref">master configuration</span></a> for details about resource
managers.</p>
</section>
<section id="drop-capabilities">
<h3><code class="docutils literal notranslate"><span class="pre">drop_capabilities</span></code><a class="headerlink" href="#drop-capabilities" title="Permalink to this heading">#</a></h3>
<p>Optional. Just like <code class="docutils literal notranslate"><span class="pre">add_capabilities</span></code> but corresponding to the <code class="docutils literal notranslate"><span class="pre">--cap-drop</span></code> argument of
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code> rather than <code class="docutils literal notranslate"><span class="pre">--cap-add</span></code>.</p>
</section>
<section id="proxy-ports">
<h3><code class="docutils literal notranslate"><span class="pre">proxy_ports</span></code><a class="headerlink" href="#proxy-ports" title="Permalink to this heading">#</a></h3>
<p>Optional. Expose configured network ports on the chief task container. See <span class="xref std std-ref">proxy-ports</span> for
details.</p>
</section>
</section>
<section id="optimizations">
<span id="exp-config-optimizations"></span><h2>Optimizations<a class="headerlink" href="#optimizations" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">optimizations</span></code> section contains configuration options that influence the performance of the
experiment.</p>
<section id="aggregation-frequency">
<span id="config-aggregation-frequency"></span><h3><code class="docutils literal notranslate"><span class="pre">aggregation_frequency</span></code><a class="headerlink" href="#aggregation-frequency" title="Permalink to this heading">#</a></h3>
<p>Optional. Specifies after how many batches gradients are exchanged during distributed training.
Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</section>
<section id="average-aggregated-gradients">
<h3><code class="docutils literal notranslate"><span class="pre">average_aggregated_gradients</span></code><a class="headerlink" href="#average-aggregated-gradients" title="Permalink to this heading">#</a></h3>
<p>Optional. Whether gradients accumulated across batches (when <code class="docutils literal notranslate"><span class="pre">aggregation_frequency</span></code> &gt; 1) should
be divided by the <code class="docutils literal notranslate"><span class="pre">aggregation_frequency</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="average-training-metrics">
<h3><code class="docutils literal notranslate"><span class="pre">average_training_metrics</span></code><a class="headerlink" href="#average-training-metrics" title="Permalink to this heading">#</a></h3>
<p>Optional. For multi-GPU training, whether to average the training metrics across GPUs instead of
only using metrics from the chief GPU. This impacts the metrics shown in the Determined UI and
TensorBoard, but does not impact the outcome of training or hyperparameter search. This option is
currently supported for <code class="docutils literal notranslate"><span class="pre">PyTorchTrial</span></code> and <code class="docutils literal notranslate"><span class="pre">TFKerasTrial</span></code> instances. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="gradient-compression">
<h3><code class="docutils literal notranslate"><span class="pre">gradient_compression</span></code><a class="headerlink" href="#gradient-compression" title="Permalink to this heading">#</a></h3>
<p>Optional. Whether to compress gradients when they are exchanged during distributed training.
Compression may alter gradient values to achieve better space reduction. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="mixed-precision">
<h3><code class="docutils literal notranslate"><span class="pre">mixed_precision</span></code><a class="headerlink" href="#mixed-precision" title="Permalink to this heading">#</a></h3>
<p>Optional. Whether to use mixed precision training with PyTorch during distributed training. Setting
<code class="docutils literal notranslate"><span class="pre">O1</span></code> enables mixed precision and loss scaling. Defaults to <code class="docutils literal notranslate"><span class="pre">O0</span></code> which disables mixed precision
training. This configuration setting is deprecated; users are advised to call
<a class="reference internal" href="api-pytorch-reference.html#determined.pytorch.PyTorchTrialContext" title="determined.pytorch.PyTorchTrialContext"><code class="xref py py-meth docutils literal notranslate"><span class="pre">context.configure_apex_amp</span></code></a> in the constructor of
their trial class instead.</p>
</section>
<section id="tensor-fusion-threshold">
<h3><code class="docutils literal notranslate"><span class="pre">tensor_fusion_threshold</span></code><a class="headerlink" href="#tensor-fusion-threshold" title="Permalink to this heading">#</a></h3>
<p>Optional. The threshold in MB for batching together gradients that are exchanged during distributed
training. Defaults to <code class="docutils literal notranslate"><span class="pre">64</span></code>.</p>
</section>
<section id="tensor-fusion-cycle-time">
<h3><code class="docutils literal notranslate"><span class="pre">tensor_fusion_cycle_time</span></code><a class="headerlink" href="#tensor-fusion-cycle-time" title="Permalink to this heading">#</a></h3>
<p>Optional. The delay (in milliseconds) between each tensor fusion during distributed training.
Defaults to <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
</section>
<section id="auto-tune-tensor-fusion">
<h3><code class="docutils literal notranslate"><span class="pre">auto_tune_tensor_fusion</span></code><a class="headerlink" href="#auto-tune-tensor-fusion" title="Permalink to this heading">#</a></h3>
<p>Optional. When enabled, configures <code class="docutils literal notranslate"><span class="pre">tensor_fusion_threshold</span></code> and <code class="docutils literal notranslate"><span class="pre">tensor_fusion_cycle_time</span></code>
automatically. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
</section>
<section id="reproducibility">
<h2>Reproducibility<a class="headerlink" href="#reproducibility" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">reproducibility</span></code> section specifies configuration options related to reproducible experiments.
See <a class="reference internal" href="../../model-dev-guide/dtrain/reproducibility.html#reproducibility"><span class="std std-ref">Reproducibility</span></a> for more details.</p>
<section id="experiment-seed">
<h3><code class="docutils literal notranslate"><span class="pre">experiment_seed</span></code><a class="headerlink" href="#experiment-seed" title="Permalink to this heading">#</a></h3>
<p>Optional. The random seed to use to initialize random number generators for all trials in this
experiment. Must be an integer between 0 and 2<sup>31</sup>–1. If an <code class="docutils literal notranslate"><span class="pre">experiment_seed</span></code> is not
explicitly specified, the master will automatically generate an experiment seed.</p>
</section>
</section>
<section id="profiling">
<span id="experiment-configuration-profiling"></span><h2>Profiling<a class="headerlink" href="#profiling" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">profiling</span></code> section specifies configuration options related to profiling experiments. See
<a class="reference internal" href="../../model-dev-guide/dtrain/optimize-training.html#how-to-profiling"><span class="std std-ref">System Metrics</span></a> for a more detailed walkthrough.</p>
<section id="id29">
<h3><code class="docutils literal notranslate"><span class="pre">profiling</span></code><a class="headerlink" href="#id29" title="Permalink to this heading">#</a></h3>
<p>Optional. Profiling is supported for all frameworks, though timings are only collected for
<code class="docutils literal notranslate"><span class="pre">PyTorchTrial</span></code>. Profiles are collected for a maximum of 5 minutes, regardless of the settings
below.</p>
<section id="enabled">
<h4><code class="docutils literal notranslate"><span class="pre">enabled</span></code><a class="headerlink" href="#enabled" title="Permalink to this heading">#</a></h4>
<p>Optional. Defines whether profiles should be collected or not. Defaults to false.</p>
</section>
<section id="begin-on-batch">
<h4><code class="docutils literal notranslate"><span class="pre">begin_on_batch</span></code><a class="headerlink" href="#begin-on-batch" title="Permalink to this heading">#</a></h4>
<p>Optional. Specifies the batch on which profiling should begin.</p>
</section>
<section id="end-after-batch">
<h4><code class="docutils literal notranslate"><span class="pre">end_after_batch</span></code><a class="headerlink" href="#end-after-batch" title="Permalink to this heading">#</a></h4>
<p>Optional. Specifies the batch after which profiling should end.</p>
</section>
<section id="sync-timings">
<h4><code class="docutils literal notranslate"><span class="pre">sync_timings</span></code><a class="headerlink" href="#sync-timings" title="Permalink to this heading">#</a></h4>
<p>Optional. Specifies whether Determined should wait for all GPU kernel streams before considering a
timing as ended. Defaults to ‘true’. Applies only for frameworks that collect timing metrics
(currently just PyTorch).</p>
</section>
</section>
</section>
<section id="slurm-options">
<span id="slurm-config"></span><span id="experiment-configuration-training-units"></span><h2>Slurm Options<a class="headerlink" href="#slurm-options" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">slurm</span></code> section specifies configuration options applicable when the cluster is configured with
<a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">resource_manager.type: slurm</span></a>.</p>
<section id="gpu-type">
<h3><code class="docutils literal notranslate"><span class="pre">gpu_type</span></code><a class="headerlink" href="#gpu-type" title="Permalink to this heading">#</a></h3>
<p>Optional. An optional GPU type name to be included in the generated Slurm <code class="docutils literal notranslate"><span class="pre">--gpus</span></code> or <code class="docutils literal notranslate"><span class="pre">--gres</span></code>
option if you have configured GPU types within your Slurm gres configuration. Specify this option to
select that specific GPU type when there are multiple GPU types within the Slurm partition. The
default is to select GPUs without regard to their type. For example, you can request the <code class="docutils literal notranslate"><span class="pre">tesla</span></code>
GPU type with:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">slurm</span><span class="p">:</span>
<span class="w">   </span><span class="nt">gpu_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tesla</span>
</pre></div>
</div>
</section>
<section id="sbatch-args">
<span id="id30"></span><h3><code class="docutils literal notranslate"><span class="pre">sbatch_args</span></code><a class="headerlink" href="#sbatch-args" title="Permalink to this heading">#</a></h3>
<p>Optional. Additional Slurm options to be passed when launching trials with <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>. These options
enable control of Slurm options not otherwise managed by Determined. For example, to specify
required memory per CPU and exclusive access to an entire node when scheduled, you could specify:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">slurm</span><span class="p">:</span>
<span class="w">   </span><span class="nt">sbatch_args</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--mem-per-cpu=10</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--exclusive</span>
</pre></div>
</div>
</section>
<section id="slots-per-node">
<span id="id31"></span><h3><code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code><a class="headerlink" href="#slots-per-node" title="Permalink to this heading">#</a></h3>
<p>Optional. The minimum number of slots required for a node to be scheduled during a trial. If
<a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">gres_supported</span></a> is false, specify <code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code> in order to
utilize more than one GPU per node. It is the user’s responsibility to ensure that
<code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code> GPUs will be available on nodes selected for the job using other configurations
such as targeting a specific resource pool with only GPU nodes or specifying a Slurm constraint in
the experiment configuration.</p>
</section>
</section>
<section id="pbs-options">
<span id="pbs-config"></span><h2>PBS Options<a class="headerlink" href="#pbs-options" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">pbs</span></code> section specifies configuration options applicable when the cluster is configured with
<a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">resource_manager.type: pbs</span></a>.</p>
<section id="pbsbatch-args">
<span id="id32"></span><h3><code class="docutils literal notranslate"><span class="pre">pbsbatch_args</span></code><a class="headerlink" href="#pbsbatch-args" title="Permalink to this heading">#</a></h3>
<p>Optional. Additional PBS options to be passed when launching trials with <code class="docutils literal notranslate"><span class="pre">qsub</span></code>. These options
enable control of PBS options not otherwise managed by Determined. For example, to specify that the
job should have a priority of <code class="docutils literal notranslate"><span class="pre">1000</span></code> and a project name of <code class="docutils literal notranslate"><span class="pre">MyProjectName</span></code>, you could specify:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pbs</span><span class="p">:</span>
<span class="w">   </span><span class="nt">pbsbatch_args</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-p1000</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-PMyProjectName</span>
</pre></div>
</div>
<p>Requesting of resources and job placement may be influenced through use of <code class="docutils literal notranslate"><span class="pre">-l</span></code>, however chunk
count, chunk arrangement, and GPU or CPU counts per chunk (depending on the value of <code class="docutils literal notranslate"><span class="pre">slot_type</span></code>)
are controlled by Determined; any values specified for these quantities will be ignored. Consider if
the following were specified for a CUDA experiment:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pbs</span><span class="p">:</span>
<span class="w">   </span><span class="nt">pbsbatch_args</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-l select=2:ngpus=4:mem=4gb</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-l place=scatter:shared</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-l walltime=1:00:00</span>
</pre></div>
</div>
<p>The chunk count (two), the GPU count per chunk (four), and the chunk arrangement (scatter) will all
be ignored in favor of values calculated by Determined.</p>
</section>
<section id="id33">
<h3><code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code><a class="headerlink" href="#id33" title="Permalink to this heading">#</a></h3>
<p>Optional. Specifies the minimum number of slots required for a node to be scheduled during a trial.
If <a class="reference internal" href="../deploy/config/master-config-reference.html#cluster-configuration-slurm"><span class="std std-ref">gres_supported</span></a> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, specify
<code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code> in order to utilize more than one GPU per node. It is the user’s responsibility
to ensure that <code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code> GPUs will be available on the nodes selected for the job using
other configurations such as targeting a specific resource pool with only <code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code> GPU
nodes or specifying a PBS constraint in the experiment configuration.</p>
</section>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="api-pytorch-samplers-reference.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">det.pytorch.samplers</span></code> API Reference</p>
      </div>
    </a>
    <a class="right-next"
       href="../../release-notes/_index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Release Notes</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> {your-title}
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#training-units">Training Units</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#training-unit-conversion-limitations-caveats">Training Unit Conversion Limitations (Caveats)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata">Metadata</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#name"><code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#description"><code class="docutils literal notranslate"><span class="pre">description</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labels"><code class="docutils literal notranslate"><span class="pre">labels</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data"><code class="docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#workspace"><code class="docutils literal notranslate"><span class="pre">workspace</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#project"><code class="docutils literal notranslate"><span class="pre">project</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#entrypoint">Entrypoint</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experiment-config-entrypoint"><code class="docutils literal notranslate"><span class="pre">entrypoint</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrary-script">Arbitrary Script</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#preconfigured-launch-module-with-script">Preconfigured Launch Module with Script</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#preconfigured-launch-module-with-legacy-trial-definition">Preconfigured Launch Module with Legacy Trial Definition</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#legacy-trial-definition">Legacy Trial Definition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-behaviors">Basic Behaviors</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduling-unit"><code class="docutils literal notranslate"><span class="pre">scheduling_unit</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#records-per-epoch"><code class="docutils literal notranslate"><span class="pre">records_per_epoch</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#max-restarts"><code class="docutils literal notranslate"><span class="pre">max_restarts</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-policy">Validation Policy</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#min-validation-period"><code class="docutils literal notranslate"><span class="pre">min_validation_period</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-initial-validation"><code class="docutils literal notranslate"><span class="pre">perform_initial_validation</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-policy">Checkpoint Policy</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#min-checkpoint-period"><code class="docutils literal notranslate"><span class="pre">min_checkpoint_period</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><code class="docutils literal notranslate"><span class="pre">checkpoint_policy</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-storage">Checkpoint Storage</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-garbage-collection">Checkpoint Garbage Collection</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#save-experiment-best"><code class="docutils literal notranslate"><span class="pre">save_experiment_best</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#save-trial-best"><code class="docutils literal notranslate"><span class="pre">save_trial_best</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#save-trial-latest"><code class="docutils literal notranslate"><span class="pre">save_trial_latest</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-saving-policy">Checkpoint Saving Policy</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#storage-type">Storage Type</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#google-cloud-storage">Google Cloud Storage</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bucket"><code class="docutils literal notranslate"><span class="pre">bucket</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#prefix"><code class="docutils literal notranslate"><span class="pre">prefix</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amazon-s3">Amazon S3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><code class="docutils literal notranslate"><span class="pre">bucket</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#access-key"><code class="docutils literal notranslate"><span class="pre">access_key</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#secret-key"><code class="docutils literal notranslate"><span class="pre">secret_key</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8"><code class="docutils literal notranslate"><span class="pre">prefix</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#endpoint-url"><code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#azure-blob-storage">Azure Blob Storage</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#container"><code class="docutils literal notranslate"><span class="pre">container</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-string"><code class="docutils literal notranslate"><span class="pre">connection_string</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#account-url"><code class="docutils literal notranslate"><span class="pre">account_url</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#credential"><code class="docutils literal notranslate"><span class="pre">credential</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shared-file-system">Shared File System</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#host-path"><code class="docutils literal notranslate"><span class="pre">host_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#storage-path"><code class="docutils literal notranslate"><span class="pre">storage_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#propagation"><code class="docutils literal notranslate"><span class="pre">propagation</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hyperparameters">Hyperparameters</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical">Categorical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#double">Double</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#integer">Integer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#log">Log</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#searcher">Searcher</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#single">Single</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metric"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-length"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#smaller-is-better"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#source-trial-id"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#source-checkpoint-uuid"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random">Random</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-trials"><code class="docutils literal notranslate"><span class="pre">max_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-concurrent-trials"><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grid">Grid</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17"><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id19"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptive-asha">Adaptive ASHA</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id20"><code class="docutils literal notranslate"><span class="pre">metric</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id21"><code class="docutils literal notranslate"><span class="pre">max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id22"><code class="docutils literal notranslate"><span class="pre">max_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id23"><code class="docutils literal notranslate"><span class="pre">smaller_is_better</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mode"><code class="docutils literal notranslate"><span class="pre">mode</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stop-once"><code class="docutils literal notranslate"><span class="pre">stop_once</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#divisor"><code class="docutils literal notranslate"><span class="pre">divisor</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#max-rungs"><code class="docutils literal notranslate"><span class="pre">max_rungs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id24"><code class="docutils literal notranslate"><span class="pre">max_concurrent_trials</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id25"><code class="docutils literal notranslate"><span class="pre">source_trial_id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id26"><code class="docutils literal notranslate"><span class="pre">source_checkpoint_uuid</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources">Resources</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slots-per-trial"><code class="docutils literal notranslate"><span class="pre">slots_per_trial</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#max-slots"><code class="docutils literal notranslate"><span class="pre">max_slots</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#weight"><code class="docutils literal notranslate"><span class="pre">weight</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shm-size"><code class="docutils literal notranslate"><span class="pre">shm_size</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#priority"><code class="docutils literal notranslate"><span class="pre">priority</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-pool"><code class="docutils literal notranslate"><span class="pre">resource_pool</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#devices"><code class="docutils literal notranslate"><span class="pre">devices</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agent-label"><code class="docutils literal notranslate"><span class="pre">agent_label</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bind-mounts">Bind Mounts</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27"><code class="docutils literal notranslate"><span class="pre">host_path</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#container-path"><code class="docutils literal notranslate"><span class="pre">container_path</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-only"><code class="docutils literal notranslate"><span class="pre">read_only</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28"><code class="docutils literal notranslate"><span class="pre">propagation</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment">Environment</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image"><code class="docutils literal notranslate"><span class="pre">image</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#force-pull-image"><code class="docutils literal notranslate"><span class="pre">force_pull_image</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#registry-auth"><code class="docutils literal notranslate"><span class="pre">registry_auth</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables"><code class="docutils literal notranslate"><span class="pre">environment_variables</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pod-spec"><code class="docutils literal notranslate"><span class="pre">pod_spec</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-capabilities"><code class="docutils literal notranslate"><span class="pre">add_capabilities</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#drop-capabilities"><code class="docutils literal notranslate"><span class="pre">drop_capabilities</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-ports"><code class="docutils literal notranslate"><span class="pre">proxy_ports</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optimizations">Optimizations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregation-frequency"><code class="docutils literal notranslate"><span class="pre">aggregation_frequency</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#average-aggregated-gradients"><code class="docutils literal notranslate"><span class="pre">average_aggregated_gradients</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#average-training-metrics"><code class="docutils literal notranslate"><span class="pre">average_training_metrics</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gradient-compression"><code class="docutils literal notranslate"><span class="pre">gradient_compression</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mixed-precision"><code class="docutils literal notranslate"><span class="pre">mixed_precision</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tensor-fusion-threshold"><code class="docutils literal notranslate"><span class="pre">tensor_fusion_threshold</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tensor-fusion-cycle-time"><code class="docutils literal notranslate"><span class="pre">tensor_fusion_cycle_time</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#auto-tune-tensor-fusion"><code class="docutils literal notranslate"><span class="pre">auto_tune_tensor_fusion</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reproducibility">Reproducibility</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experiment-seed"><code class="docutils literal notranslate"><span class="pre">experiment_seed</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#profiling">Profiling</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29"><code class="docutils literal notranslate"><span class="pre">profiling</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#enabled"><code class="docutils literal notranslate"><span class="pre">enabled</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#begin-on-batch"><code class="docutils literal notranslate"><span class="pre">begin_on_batch</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#end-after-batch"><code class="docutils literal notranslate"><span class="pre">end_after_batch</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sync-timings"><code class="docutils literal notranslate"><span class="pre">sync_timings</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#slurm-options">Slurm Options</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-type"><code class="docutils literal notranslate"><span class="pre">gpu_type</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sbatch-args"><code class="docutils literal notranslate"><span class="pre">sbatch_args</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slots-per-node"><code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pbs-options">PBS Options</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pbsbatch-args"><code class="docutils literal notranslate"><span class="pre">pbsbatch_args</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33"><code class="docutils literal notranslate"><span class="pre">slots_per_node</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By lb
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, lb.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>