

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Install Determined on Kubernetes &#8212; project-x 0.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'latest/setup-cluster/deploy-cluster/k8s/install-on-kubernetes';</script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Development Guide" href="k8s-dev-guide.html" />
    <link rel="prev" title="Helm and Kubectl Command Examples" href="helm-commands.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../../index.html">
  
  
  
  
  
    <p class="title logo__title">project-x 0.0.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../index.html">
                    Welcome to project-x’s documentation!
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../architecture/_index.html">How Determined Works</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/introduction.html">Introduction to Determined</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/system-architecture.html">System Architecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../example-solutions/_index.html">Examples</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../integrations/_index.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../integrations/ecosystem/_index.html">Ecosystem Integration</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../integrations/notification/_index.html">Monitoring Experiment Through Webhooks</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../integrations/notification/zapier.html">Through Zapier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integrations/notification/slack.html">Through Slack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../integrations/prometheus/_index.html">Configure Determined with Prometheus and Grafana</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../interfaces/_index.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/cli-ug.html">Determined CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/commands-and-shells.html">Commands and Shells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/ide-integration.html">IDE Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/notebooks.html">Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/proxy-ports.html">Exposing Custom Ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/tensorboard.html">Using TensorBoard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../interfaces/webui-if.html">Web Interface (WebUI)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../model-dev-guide/_index.html">Model Developer Guide</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../model-dev-guide/apis-howto/_index.html">Training APIs</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/apis-howto/api-core-ug.html">Core API User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/apis-howto/api-pytorch-ug.html">PyTorch API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/apis-howto/api-keras-ug.html">Keras API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/apis-howto/api-estimator-ug.html">Estimator API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../model-dev-guide/batch-processing/_index.html">Torch Batch Processing API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../model-dev-guide/best-practices/_index.html">Best Practices</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../model-dev-guide/dtrain/_index.html">Distributed Training with Determined</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/dtrain/dtrain-introduction.html">Distributed Training Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/dtrain/dtrain-implement.html">Implementing Distributed Training</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/dtrain/config-templates.html">Configuration Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/dtrain/reproducibility.html">Reproducibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-dev-guide/dtrain/optimize-training.html">Optimizing Training</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../model-hub-library/_index.html">Model Hub Library</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../model-hub-library/mmdetection/_index.html">MMDetection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../model-hub-library/transformers/_index.html">Transformers</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../model-hub-library/transformers/tutorial.html">Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../model-hub-library/transformers/examples.html">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../reference/_index.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/cli-reference.html">Determined CLI Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/python-sdk.html">Python SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/rest-api.html">REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/batch-processing/_index.html">Batch Processing API Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/deploy/_index.html">Deployment Reference</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../reference/deploy/config/_index.html">Config Reference</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/deploy/config/agent-config-reference.html">Agent Configuration Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/deploy/config/common-config-options.html">Common Configuration Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/deploy/config/helm-config-reference.html">Helm Chart Configuration Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/deploy/config/master-config-reference.html">Master Configuration Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/interface/_index.html">Job Configuration Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/model-hub/_index.html">Model Hub APIs</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/model-hub/mmdetection-api.html">MMDetection API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/model-hub/transformers-api.html">Transformers API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/searcher/_index.html">Custom Searcher Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/training/_index.html">Training Reference</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-core-reference.html"><code class="docutils literal notranslate"><span class="pre">det.core</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-deepspeed-reference.html"><code class="docutils literal notranslate"><span class="pre">det.pytorch.deepspeed</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-det-reference.html"><code class="docutils literal notranslate"><span class="pre">det</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-estimator-reference.html"><code class="docutils literal notranslate"><span class="pre">det.estimator</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-keras-reference.html"><code class="docutils literal notranslate"><span class="pre">det.keras</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-pytorch-reference.html"><code class="docutils literal notranslate"><span class="pre">det.pytorch</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/api-pytorch-samplers-reference.html"><code class="docutils literal notranslate"><span class="pre">det.pytorch.samplers</span></code> API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/training/experiment-config-reference.html">Experiment Configuration Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/_index.html">Release Notes</a></li>

<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../_index.html">Setup</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../_index.html">Set Up Determined</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="../aws/_index.html">Deploy on AWS</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../aws/aws-spot.html">Use Spot Instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="../aws/dynamic-agents-aws.html">Deploy Determined with Dynamic Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../aws/install-on-aws.html">Install Determined</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../gcp/_index.html">Deploy on GCP</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../gcp/dynamic-agents-gcp.html">Deploy Determined with Dynamic Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../gcp/install-gcp.html">Install Determined</a></li>
</ul>
</li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="_index.html">Deploy on Kubernetes</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="custom-pod-specs.html">Customize a Pod</a></li>
<li class="toctree-l4"><a class="reference internal" href="helm-commands.html">Helm and Kubectl Command Examples</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">Install Determined on Kubernetes</a></li>
<li class="toctree-l4"><a class="reference internal" href="k8s-dev-guide.html">Development Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="setup-aks-cluster.html">Set up and Manage an Azure Kubernetes Service (AKS) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="setup-eks-cluster.html">Set up and Manage an AWS Kubernetes (EKS) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="setup-gke-cluster.html">Set up and Manage a Google Kubernetes Engine (GKE) Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../on-prem/_index.html">Deploy on Prem</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../on-prem/deploy.html">Install Determined Using <code class="docutils literal notranslate"><span class="pre">det</span> <span class="pre">deploy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../on-prem/docker.html">Install Determined Using Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../on-prem/homebrew.html">Install Determined Using Homebrew (macOS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../on-prem/linux-packages.html">Install Determined Using Linux Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../on-prem/requirements.html">Installation Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../on-prem/wsl.html">Install Determined Using Windows Subsystem for Linux (Windows)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../slurm/_index.html">Deploy on Slurm/PBS</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../slurm/hpc-launching-architecture.html">HPC Launching Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../slurm/hpc-security-considerations.html">HPC Launcher Security Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../slurm/install-on-slurm.html">Install Determined on Slurm/PBS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../slurm/singularity.html">Provide a Container Image Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../slurm/slurm-known-issues.html">Known Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../slurm/slurm-requirements.html">Installation Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../security/_index.html">Security</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../security/oauth.html">OAuth 2.0 Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/oidc.html">OpenID Connect Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/rbac.html">RBAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/saml.html">SAML Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/scim.html">SCIM Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/tls.html">Transport Layer Security</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../tutorials/_index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/pytorch-mnist-local-qs.html">Run Your First Experiment in Determined</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/pytorch-mnist-tutorial.html">PyTorch MNIST Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/pytorch-porting-tutorial.html">PyTorch Porting Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/quickstart-mdldev.html">Quickstart for Model Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/tf-mnist-tutorial.html">TensorFlow Keras Fashion MNIST Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../attributions.html">Open Source Licenses</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../_sources/latest/setup-cluster/deploy-cluster/k8s/install-on-kubernetes.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Install Determined on Kubernetes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-registry-configuration">Image Registry Configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-pull-secret-configuration">Image Pull Secret Configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-configuration">Version Configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-configuration-gpu-based-setups">Resource Configuration (GPU-based setups)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-configuration-cpu-based-setups">Resource Configuration (CPU-based setups)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-storage">Checkpoint Storage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-pod-specs-optional">Default Pod Specs (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-password-optional">Default Password (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#database-optional">Database (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tls-optional">TLS (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-scheduler-optional">Default Scheduler (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#node-taints">Node Taints</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kubectl-taints"><code class="docutils literal notranslate"><span class="pre">kubectl</span></code> Taints</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kubectl-tolerations"><code class="docutils literal notranslate"><span class="pre">kubectl</span></code> Tolerations</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-multiple-resource-pools">Setting Up Multiple Resource Pools</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-determined">Install Determined</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-installing-determined-on-kubernetes-i-get-an-imagepullbackoff-error">When installing Determined on Kubernetes, I get an <code class="docutils literal notranslate"><span class="pre">ImagePullBackOff</span></code> error</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upgrade-determined">Upgrade Determined</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uninstall-determined">Uninstall Determined</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="install-determined-on-kubernetes">
<span id="install-on-kubernetes"></span><h1>Install Determined on Kubernetes<a class="headerlink" href="#install-determined-on-kubernetes" title="Permalink to this heading">#</a></h1>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Reference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="xref std std-doc">/reference/deploy/config/helm-config-reference</span></p></td>
</tr>
</tbody>
</table>
<p>This user guide describes how to install Determined on <a class="reference external" href="https://kubernetes.io/">Kubernetes</a>.
using the <code class="xref download docutils literal notranslate"><span class="pre">Determined</span> <span class="pre">Helm</span> <span class="pre">Chart</span></code>.</p>
<p>When the Determined Helm chart is installed, the following entities will be created:</p>
<ul class="simple">
<li><p>Deployment of the Determined master.</p></li>
<li><p>ConfigMap containing configurations for the Determined master.</p></li>
<li><p>LoadBalancer service to make the Determined master accessible. Later in this guide, we describe
how it is possible to replace this with a NodePort service.</p></li>
<li><p>ServiceAcccount which will be used by the Determined master.</p></li>
<li><p>Deployment of a Postgres database. Later in this guide, we describe how an external database can
be used instead.</p></li>
<li><p>PersistentVolumeClaim for the Postgres database. Omitted if using an external database.</p></li>
<li><p>Service to allow the Determined master to communicate with the Postgres database. Omitted if
using an external database.</p></li>
</ul>
<p>When installing <a class="reference internal" href="#install-on-kubernetes"><span class="std std-ref">Determined on Kubernetes</span></a> using Helm, the deployment
should be configured by editing the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">Chart.yaml</span></code> files in the
<code class="xref download docutils literal notranslate"><span class="pre">Determined</span> <span class="pre">Helm</span> <span class="pre">Chart</span></code>.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h2>
<p>Before installing Determined on a Kubernetes cluster, please ensure that the following prerequisites
are satisfied:</p>
<ul class="simple">
<li><p>The Kubernetes cluster should be running Kubernetes version &gt;= 1.19 and &lt;= 1.21, though later
versions may work.</p></li>
<li><p>You should have access to the cluster via <a class="reference external" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a>.</p></li>
<li><p><a class="reference external" href="https://helm.sh/docs/intro/install/">Helm 3</a> should be installed.</p></li>
<li><p>If you are using a private image registry or the enterprise edition, you should add a secret
using <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/">kubectl create secret</a>.</p></li>
<li><p>The nodes in the cluster already have or can pull the <code class="docutils literal notranslate"><span class="pre">fluent/fluent-bit:1.9.3</span></code> Docker image
from Docker Hub.</p></li>
<li><p>Optional: for GPU-based training, the Kubernetes cluster should have <a class="reference external" href="https://kubernetes.io/docs/tasks/manage-gpus/scheduling-gpus/">GPU support</a> enabled.</p></li>
</ul>
<p>You should also download a copy of the <code class="xref download docutils literal notranslate"><span class="pre">Determined</span> <span class="pre">Helm</span> <span class="pre">Chart</span></code> and extract it on your local machine.</p>
<p>If you do not yet have a Kubernetes cluster deployed and you want to use Determined in a public
cloud environment, we recommend using a managed Kubernetes offering such as <a class="reference external" href="https://cloud.google.com/kubernetes-engine">Google Kubernetes
Engine (GKE)</a> on GCP or <a class="reference external" href="https://aws.amazon.com/eks/">Elastic Kubernetes Service
(EKS)</a> on AWS. For more info on configuring GKE for use with
Determined, refer to the <a class="reference internal" href="setup-gke-cluster.html#setup-gke-cluster"><span class="std std-ref">Instructions for setting up a GKE cluster</span></a>. For
info on configuring EKS, refer to the <a class="reference internal" href="setup-eks-cluster.html#setup-eks-cluster"><span class="std std-ref">Instructions for setting up an EKS cluster</span></a>.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<p>When installing Determined using Helm, first configure some aspects of the Determined deployment by
editing the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">Chart.yaml</span></code> files in the Helm chart.</p>
<section id="image-registry-configuration">
<h3>Image Registry Configuration<a class="headerlink" href="#image-registry-configuration" title="Permalink to this heading">#</a></h3>
<p>To configure which image registry of Determined will be installed by the Helm chart, change
<code class="docutils literal notranslate"><span class="pre">imageRegistry</span></code> in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>. You can specify the Docker Hub public registry
<code class="docutils literal notranslate"><span class="pre">determinedai</span></code> or specify any private registry that hosts the Determined master image.</p>
</section>
<section id="image-pull-secret-configuration">
<h3>Image Pull Secret Configuration<a class="headerlink" href="#image-pull-secret-configuration" title="Permalink to this heading">#</a></h3>
<p>To configure which image pull secret will be used by the Helm chart, change <code class="docutils literal notranslate"><span class="pre">imagePullSecretName</span></code>
in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>. You can set it to empty for the Docker Hub public registry or specify any secret
that is configured using <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/">kubectl create secret</a>.</p>
</section>
<section id="version-configuration">
<span id="configure-determined-kubernetes-version"></span><h3>Version Configuration<a class="headerlink" href="#version-configuration" title="Permalink to this heading">#</a></h3>
<p>To configure which version of Determined will be installed by the Helm chart, change <code class="docutils literal notranslate"><span class="pre">appVersion</span></code>
in <code class="docutils literal notranslate"><span class="pre">Chart.yaml</span></code>. You can specify a release version (e.g., <code class="docutils literal notranslate"><span class="pre">0.13.0</span></code>) or specify any commit hash
from the <a class="reference external" href="https://github.com/determined-ai/determined">upstream Determined repo</a> (e.g.,
<code class="docutils literal notranslate"><span class="pre">b13461ed06f2fad339e179af8028d4575db71a81</span></code>). You are strongly encouraged to use a released
version.</p>
</section>
<section id="resource-configuration-gpu-based-setups">
<h3>Resource Configuration (GPU-based setups)<a class="headerlink" href="#resource-configuration-gpu-based-setups" title="Permalink to this heading">#</a></h3>
<p>For GPU-based configurations, you must specify the number of GPUs on each node (for GPU-enabled
nodes only). This is done by setting <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod</span></code> in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>. Determined uses this
information when scheduling multi-GPU tasks. Each multi-GPU (distributed training) task will be
scheduled as a set of <code class="docutils literal notranslate"><span class="pre">slotsPerTask</span> <span class="pre">/</span> <span class="pre">maxSlotsPerPod</span></code> separate pods, with each pod assigned up to
<code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod</span></code> GPUs. Distributed tasks with sizes that are not divisible by <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod</span></code>
are never scheduled. If you have a cluster of different size nodes, set <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod</span></code> to the
greatest common divisor of all the sizes. For example, if you have some nodes with 4 GPUs and other
nodes with 8 GPUs, set <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod</span></code> to <code class="docutils literal notranslate"><span class="pre">4</span></code> so that all distributed experiments will launch
with 4 GPUs per pod (with two pods on 8-GPU nodes).</p>
</section>
<section id="resource-configuration-cpu-based-setups">
<h3>Resource Configuration (CPU-based setups)<a class="headerlink" href="#resource-configuration-cpu-based-setups" title="Permalink to this heading">#</a></h3>
<p>For CPU-only configurations, you need to set <code class="docutils literal notranslate"><span class="pre">slotType:</span> <span class="pre">cpu</span></code> as well as
<code class="docutils literal notranslate"><span class="pre">slotResourceRequests.cpu:</span> <span class="pre">&lt;number</span> <span class="pre">of</span> <span class="pre">CPUs</span> <span class="pre">per</span> <span class="pre">slot&gt;</span></code> in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>. Please note that the
number of CPUs allocatable by Kubernetes may be lower than the number of “hardware” CPU cores. For
example, an 8-core node may provide 7.91 CPUs, with the rest allocated for the Kubernetes system
tasks. If <code class="docutils literal notranslate"><span class="pre">slotResourceRequests.cpu</span></code> was set to 8 in this example, the pods would fail to
allocate, so it should be set to a lower number instead, such as 7.5.</p>
<p>Then, similarly to GPU-based configuration, <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod</span></code> needs to be set to the greatest
common divisor of all the node sizes. For example, if you have 16-core nodes with 15 allocatable
CPUs, it’s reasonable to set <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod:</span> <span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">slotResourceRequests.cpu:</span> <span class="pre">15</span></code>. If you have
some 32-core nodes and some 64-core nodes, and you want to use finer-grained
<code class="docutils literal notranslate"><span class="pre">slotResourceRequests.cpu:</span> <span class="pre">15</span></code>, set <code class="docutils literal notranslate"><span class="pre">maxSlotsPerPod:</span> <span class="pre">2</span></code>.</p>
</section>
<section id="checkpoint-storage">
<h3>Checkpoint Storage<a class="headerlink" href="#checkpoint-storage" title="Permalink to this heading">#</a></h3>
<p>Checkpoints and TensorBoard events can be configured to be stored in <code class="docutils literal notranslate"><span class="pre">shared_fs</span></code>, <a class="reference external" href="https://aws.amazon.com/s3/">AWS S3</a>, <a class="reference external" href="https://azure.microsoft.com/en-us/services/storage/blobs">Microsoft Azure Blob Storage</a>, or <a class="reference external" href="https://cloud.google.com/storage">GCS</a>. By default, checkpoints and TensorBoard events are stored
using <code class="docutils literal notranslate"><span class="pre">shared_fs</span></code>, which creates a <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath">hostPath Volume</a> and saves to the host file
system. This configuration is intended for <em>initial testing only</em>; you are strongly discouraged from
using <code class="docutils literal notranslate"><span class="pre">shared_fs</span></code> for actual deployments of Determined on Kubernetes, because most Kubernetes
cluster nodes do not have a shared file system.</p>
<p>Instead of using <code class="docutils literal notranslate"><span class="pre">shared_fs</span></code>, configure either AWS S3, Microsoft Azure Blob Storage, or GCS:</p>
<ul class="simple">
<li><p><strong>AWS S3</strong>: To configure Determined to use AWS S3 for checkpoint and TensorBoard storage, you
need to set <code class="docutils literal notranslate"><span class="pre">checkpointStorage.type</span></code> in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> to <code class="docutils literal notranslate"><span class="pre">s3</span></code> and set
<code class="docutils literal notranslate"><span class="pre">checkpointStorage.bucket</span></code> to the name of the bucket. The pods launched by the Determined
master must have read, write, and delete access to the bucket. To enable this you can optionally
configure <code class="docutils literal notranslate"><span class="pre">checkpointStorage.accessKey</span></code> and <code class="docutils literal notranslate"><span class="pre">checkpointStorage.secretKey</span></code>. You can optionally
configure <code class="docutils literal notranslate"><span class="pre">checkpointStorage.endpointUrl</span></code> which specifies the endpoint to use for S3 clones
(e.g., <code class="docutils literal notranslate"><span class="pre">http://&lt;minio-endpoint&gt;:&lt;minio-port|default=9000&gt;</span></code>).</p></li>
<li><p><strong>Microsoft Azure Blob Storage</strong>: To configure Determined to use Microsoft Azure Blob Storage for
checkpoint and TensorBoard storage, you need to set <code class="docutils literal notranslate"><span class="pre">checkpointStorage.type</span></code> in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>
to <code class="docutils literal notranslate"><span class="pre">azure</span></code> and set <code class="docutils literal notranslate"><span class="pre">checkpointStorage.container</span></code> to the name of the container to store it in.
You must also specify one of <code class="docutils literal notranslate"><span class="pre">connection_string</span></code> - the connection string associated with the
Azure Blob Storage service account to use, or the tuple <code class="docutils literal notranslate"><span class="pre">account_url</span></code> and <code class="docutils literal notranslate"><span class="pre">credential</span></code> -
where <code class="docutils literal notranslate"><span class="pre">account_url</span></code> is the URL for the service account to use, and <code class="docutils literal notranslate"><span class="pre">credential</span></code> is an
optional credential.</p></li>
<li><p><strong>GCS</strong>: To configure Determined to use Google Cloud Storage for checkpoints and TensorBoard
data, set <code class="docutils literal notranslate"><span class="pre">checkpointStorage.type</span></code> in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> to <code class="docutils literal notranslate"><span class="pre">gcs</span></code> and set
<code class="docutils literal notranslate"><span class="pre">checkpointStorage.bucket</span></code> to the name of the bucket. The pods launched by the Determined
master must have read, write, and delete access to the bucket. For example, when launching <a class="reference external" href="https://cloud.google.com/sdk/gcloud/reference/container/node-pools/create">GKE
nodes</a> you need to
specify <code class="docutils literal notranslate"><span class="pre">--scopes=storage-full</span></code> to configure proper GCS access.</p></li>
</ul>
</section>
<section id="default-pod-specs-optional">
<h3>Default Pod Specs (Optional)<a class="headerlink" href="#default-pod-specs-optional" title="Permalink to this heading">#</a></h3>
<p>As described in the <a class="reference internal" href="_index.html#determined-on-kubernetes"><span class="std std-ref">Deploy on Kubernetes</span></a> guide, when tasks (e.g., experiments, notebooks)
are started in a Determined cluster running on Kubernetes, the Determined master launches pods to
execute these tasks. The Determined helm chart makes it possible to set default pod specs for all
CPU and GPU tasks. The defaults can be defined in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> under
<code class="docutils literal notranslate"><span class="pre">taskContainerDefaults.cpuPodSpec</span></code> and <code class="docutils literal notranslate"><span class="pre">taskContainerDefaults.gpuPodSpec</span></code>. For examples of how
to do this and a description of permissible fields, see the <a class="reference internal" href="custom-pod-specs.html#custom-pod-specs"><span class="std std-ref">specifying custom pod specs</span></a> guide.</p>
</section>
<section id="default-password-optional">
<h3>Default Password (Optional)<a class="headerlink" href="#default-password-optional" title="Permalink to this heading">#</a></h3>
<p>Unless otherwise specified, the pre-existing users, <code class="docutils literal notranslate"><span class="pre">admin</span></code> and <code class="docutils literal notranslate"><span class="pre">determined</span></code>, do not have
passwords associated with their accounts. You can set a default password for the <code class="docutils literal notranslate"><span class="pre">determined</span></code> and
<code class="docutils literal notranslate"><span class="pre">admin</span></code> accounts if preferred or needed. This password will not affect any other user account. For
additional information on managing users in determined, see the <a class="reference internal" href="../../users.html#users"><span class="std std-ref">topic guide on users</span></a>.</p>
</section>
<section id="database-optional">
<h3>Database (Optional)<a class="headerlink" href="#database-optional" title="Permalink to this heading">#</a></h3>
<p>By default, the Helm chart deploys an instance of Postgres on the same Kubernetes cluster where
Determined is deployed. If this is not what you want, you can configure the Helm chart to use an
external Postgres database by setting <code class="docutils literal notranslate"><span class="pre">db.hostAddress</span></code> to the IP address of their database. If
<code class="docutils literal notranslate"><span class="pre">db.hostAddress</span></code> is configured, the Determined Helm chart will not deploy a database.</p>
</section>
<section id="tls-optional">
<span id="tls-on-kubernetes"></span><h3>TLS (Optional)<a class="headerlink" href="#tls-optional" title="Permalink to this heading">#</a></h3>
<p>By default, the Helm chart will deploy a load-balancer which makes the Determined master accessible
over HTTP. To secure your cluster, Determined supports configuring <a class="reference external" href="https://en.wikipedia.org/wiki/Transport_Layer_Security">TLS encryption</a> which can be configured to terminate
inside a load-balancer or inside the Determined master itself. To configure TLS, set
<code class="docutils literal notranslate"><span class="pre">useNodePortForMaster</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>. This will instruct Determined to deploy a NodePort service for
the master. You can then configure an <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/ingress/#tls">Ingress</a> that performs TLS
termination in the load balancer and forwards plain text to the NodePort service, or forwards TLS
encrypted data. Please note when configuring an Ingress that you need to have an <a class="reference external" href="https://github.com/bitnami/charts/tree/master/bitnami/nginx-ingress-controller">Ingress controller</a> running your
cluster.</p>
<ol class="arabic simple">
<li><p><strong>TLS termination in a load-balancer (e.g., nginx).</strong> This option will provide TLS encryption
between the client and the load-balancer, with all communication inside the cluster performed via
HTTP. To configure this option set <code class="docutils literal notranslate"><span class="pre">useNodePortForMaster</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code> and then configure an
Ingress service to perform TLS termination and forward the plain text traffic to the Determined
master.</p></li>
<li><p><strong>TLS termination in the Determined master.</strong> This option will provide TLS encryption inside the
Kubernetes cluster. All communication with the master will be encrypted. Communication between
task containers (distributed training) will not be encrypted. To configure this option create a
Kubernetes TLS secret within the namespace where Determined is being installed and set
<code class="docutils literal notranslate"><span class="pre">tlsSecret</span></code> to be the name of this secret. You also need to set <code class="docutils literal notranslate"><span class="pre">useNodePortForMaster</span></code> to
<code class="docutils literal notranslate"><span class="pre">true</span></code>. After the NodePort service is created, you can configure an Ingress to forward TLS
encrypted data to the NodePort service.</p></li>
</ol>
<p>An example of how to configure an Ingress, which will perform TLS termination in the load-balancer
by default:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1beta1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">determined-ingress</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">kubernetes.io/ingress.class</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>

<span class="w">    </span><span class="c1"># Uncommenting this option instructs the created load-balancer</span>
<span class="w">    </span><span class="c1"># to forward TLS encrypted data to the NodePort service and</span>
<span class="w">    </span><span class="c1"># perform TLS termination in the Determined master. In order</span>
<span class="w">    </span><span class="c1"># to configure ssl-passthrough, your nginx ingress controller</span>
<span class="w">    </span><span class="c1"># must be running with the --enable-ssl-passthrough option enabled.</span>
<span class="w">    </span><span class="c1">#</span>
<span class="w">    </span><span class="c1"># nginx.ingress.kubernetes.io/ssl-passthrough: &quot;true&quot;</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">tls</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">your-hostname-for-determined.ai</span>
<span class="w">    </span><span class="nt">secretName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">your-tls-secret-name</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">your-hostname-for-determined.ai</span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<span class="w">      </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">          </span><span class="nt">backend</span><span class="p">:</span>
<span class="w">            </span><span class="nt">serviceName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">determined-master-service-&lt;name for your deployment&gt;</span>
<span class="w">            </span><span class="nt">servicePort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">masterPort configured in values.yaml</span>
</pre></div>
</div>
<p>To see information about using AWS Load Balancer instead of nginx visit <a class="reference internal" href="setup-eks-cluster.html#aws-lb"><span class="std std-ref">Using AWS Load
Balancer</span></a>.</p>
</section>
<section id="default-scheduler-optional">
<h3>Default Scheduler (Optional)<a class="headerlink" href="#default-scheduler-optional" title="Permalink to this heading">#</a></h3>
<p>Determined includes support for the <a class="reference external" href="https://github.com/kubernetes-sigs/scheduler-plugins/tree/release-1.18/pkg/coscheduling">lightweight coscheduling plugin</a>, which
extends the default Kubernetes scheduler to provide gang scheduling. This feature is currently in
beta and is not enabled by default. To activate the plugin, set the <code class="docutils literal notranslate"><span class="pre">defaultScheduler</span></code> field to
<code class="docutils literal notranslate"><span class="pre">coscheduler</span></code>. If the field is empty or doesn’t exist, Determined will use the default Kubernetes
scheduler to schedule all experiments and tasks.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">defaultScheduler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coscheduler</span>
</pre></div>
</div>
<p>Determined also includes support for priority-based scheduling with preemption. This feature allows
experiments to be preempted if higher priority ones are submitted. This feature is also in beta and
is not enabled by default. To activate priority-based preemption scheduling, set
<code class="docutils literal notranslate"><span class="pre">defaultScheduler</span></code> to <code class="docutils literal notranslate"><span class="pre">preemption</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">defaultScheduler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">preemption</span>
</pre></div>
</div>
</section>
<section id="node-taints">
<span id="taints-on-kubernetes"></span><h3>Node Taints<a class="headerlink" href="#node-taints" title="Permalink to this heading">#</a></h3>
<p>Tainting nodes is optional, but you might want to taint nodes to restrict which nodes a pod may be
scheduled onto. A taint consists of a taint type, tag, and effect.</p>
<p>When using a managed kubernetes cluster (e.g. a <a class="reference internal" href="setup-gke-cluster.html#setup-gke-cluster"><span class="std std-ref">GKE</span></a>, <a class="reference internal" href="setup-aks-cluster.html#setup-aks-cluster"><span class="std std-ref">AKS</span></a>, or <a class="reference internal" href="setup-eks-cluster.html#setup-eks-cluster"><span class="std std-ref">EKS</span></a> cluster), it is possible to specify taints
at cluster or nodepool creation using the specified CLIs. Please refer to the set up pages for each
managed cluster service for instructions on how to do so. To add taints to an existing resource, it
is necessary to use <code class="docutils literal notranslate"><span class="pre">kubectl</span></code>. Tolerations can be added to Pods by including the <code class="docutils literal notranslate"><span class="pre">tolerations</span></code>
field in the Pod specification.</p>
<section id="kubectl-taints">
<h4><code class="docutils literal notranslate"><span class="pre">kubectl</span></code> Taints<a class="headerlink" href="#kubectl-taints" title="Permalink to this heading">#</a></h4>
<p>To taint a node with kubectl, use <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">taint</span> <span class="pre">nodes</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>taint<span class="w"> </span>nodes<span class="w"> </span><span class="si">${</span><span class="nv">NODE_NAME</span><span class="si">}</span><span class="w"> </span><span class="si">${</span><span class="nv">TAINT_TYPE</span><span class="si">}</span><span class="o">=</span><span class="si">${</span><span class="nv">TAINT_TAG</span><span class="si">}</span>:<span class="si">${</span><span class="nv">TAINT_EFFECT</span><span class="si">}</span>
</pre></div>
</div>
<p>As an example, the following snippet taints nodes named <code class="docutils literal notranslate"><span class="pre">node-1</span></code> to not be schedulable if the
<code class="docutils literal notranslate"><span class="pre">accelerator</span></code> taint type has the <code class="docutils literal notranslate"><span class="pre">gpu</span></code> taint value.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>taint<span class="w"> </span>nodes<span class="w"> </span>node-1<span class="w"> </span><span class="nv">accelerator</span><span class="o">=</span>gpu:NoSchedule
</pre></div>
</div>
</section>
<section id="kubectl-tolerations">
<h4><code class="docutils literal notranslate"><span class="pre">kubectl</span></code> Tolerations<a class="headerlink" href="#kubectl-tolerations" title="Permalink to this heading">#</a></h4>
<p>To specify a toleration, use the <code class="docutils literal notranslate"><span class="pre">toleration</span></code> field in the PodSpec.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${TAINT_TYPE}&quot;</span>
<span class="w">      </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Equal&quot;</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${TAINT_TAG}&quot;</span>
<span class="w">      </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${TAINT_EFFECT}&quot;</span>
</pre></div>
</div>
<p>The following example is a toleration for when a node has the <code class="docutils literal notranslate"><span class="pre">accelerator</span></code> taint type equal to
the <code class="docutils literal notranslate"><span class="pre">gpu</span></code> taint value.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;accelerator&quot;</span>
<span class="w">      </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Equal&quot;</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpu&quot;</span>
<span class="w">      </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;NoSchedule&quot;</span>
</pre></div>
</div>
<p>The next example is a toleration for when a node has the <code class="docutils literal notranslate"><span class="pre">gpu</span></code> taint type.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpu&quot;</span>
<span class="w">      </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Exists&quot;</span>
<span class="w">      </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;NoSchedule&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="setting-up-multiple-resource-pools">
<span id="multi-rp-on-kubernetes"></span><h3>Setting Up Multiple Resource Pools<a class="headerlink" href="#setting-up-multiple-resource-pools" title="Permalink to this heading">#</a></h3>
<p>To set up multiple resource pools for Determined on your Kubernetes cluster:</p>
<ol class="arabic">
<li><p><a class="reference external" href="https://kubernetes.io/docs/tasks/administer-cluster/namespaces/#creating-a-new-namespace">Create a namespace</a> for
each resource pool. The default namespace can also be mapped to a resource pool.</p></li>
<li><p>As Determined ensures that tasks in a given resource pool get launched in its linked namespace,
the cluster admin needs to ensure that pods in a given namespace have the right nodeSelector or
toleration automatically added to their pod spec so that they can be forced to be scheduled on
the nodes that we want to be part of a given resource pool. This can be done using an admissions
controller like a <a class="reference external" href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#podnodeselector">PodNodeSelector</a>
or <a class="reference external" href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#podtolerationrestriction">PodTolerationRestriction</a>.
Alternatively, the cluster admin can also add a resource pool (and hence namespace) specific pod
spec to the <code class="docutils literal notranslate"><span class="pre">task_container_defaults</span></code> sub-section of the <code class="docutils literal notranslate"><span class="pre">resourcePools</span></code> section of the Helm
<code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resourcePools</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pool_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">prod_pool</span>
<span class="w">    </span><span class="nt">kubernetes_namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">    </span><span class="nt">task_container_defaults</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gpu_pod_spec</span><span class="p">:</span>
<span class="w">        </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="w">        </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="w">        </span><span class="nt">spec</span><span class="p">:</span>
<span class="w">          </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pool_taint&quot;</span>
<span class="w">              </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Equal&quot;</span>
<span class="w">              </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;prod&quot;</span>
<span class="w">              </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;NoSchedule&quot;</span>
</pre></div>
</div>
</li>
<li><p>Label/taint the appropriate nodes you want to include as part of each resource pool. For instance
you may add a taint like <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">taint</span> <span class="pre">nodes</span> <span class="pre">prod_node_name</span> <span class="pre">pool_taint=prod:NoSchedule</span></code> and
the appropriate toleration to the PodTolerationRestriction admissions controller or in
<code class="docutils literal notranslate"><span class="pre">resourcePools.pool_name.task_container_defaults.gpu_pod_spec</span></code> as above so it is automatically
added to the pod spec based on which namespace (and hence resource pool) a task runs in.</p></li>
<li><p>Add the appropriate resource pool name to namespace mappings in the <code class="docutils literal notranslate"><span class="pre">resourcePools</span></code> section of
the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file in the Helm chart.</p></li>
</ol>
</section>
</section>
<section id="install-determined">
<h2>Install Determined<a class="headerlink" href="#install-determined" title="Permalink to this heading">#</a></h2>
<p>Once finished making configuration changes in <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">Chart.yaml</span></code>, Determined is
ready to be installed. To install Determined, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">install</span> <span class="o">&lt;</span><span class="n">name</span> <span class="k">for</span> <span class="n">your</span> <span class="n">deployment</span><span class="o">&gt;</span> <span class="n">determined</span><span class="o">-</span><span class="n">helm</span><span class="o">-</span><span class="n">chart</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">determined-helm-chart</span></code> is a relative path to where the <code class="xref download docutils literal notranslate"><span class="pre">Determined</span> <span class="pre">Helm</span> <span class="pre">Chart</span></code> is located. It may take a few minutes for all resources to come up.
If you encounter issues during installation, refer to the list of <a class="reference internal" href="_index.html#useful-kubectl-commands"><span class="std std-ref">useful kubectl commands</span></a>. Helm will install Determined within the default namespace. If you wish
to install Determined into a non-default namespace, add <code class="docutils literal notranslate"><span class="pre">-n</span> <span class="pre">&lt;namespace</span> <span class="pre">name&gt;</span></code> to the command shown
above.</p>
<p>Once the installation has completed, instructions will be displayed for discovering the IP address
assigned to the Determined master. The IP address can also be discovered by running <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span>
<span class="pre">services</span></code>.</p>
<section id="when-installing-determined-on-kubernetes-i-get-an-imagepullbackoff-error">
<h3>When installing Determined on Kubernetes, I get an <code class="docutils literal notranslate"><span class="pre">ImagePullBackOff</span></code> error<a class="headerlink" href="#when-installing-determined-on-kubernetes-i-get-an-imagepullbackoff-error" title="Permalink to this heading">#</a></h3>
<p>You may be trying to install a non-released version of Determined or a version in a private registry
without the right secret. See the documentation on how to configure which <a class="reference internal" href="#configure-determined-kubernetes-version"><span class="std std-ref">version of
Determined</span></a> to install on Kubernetes.</p>
</section>
</section>
<section id="upgrade-determined">
<h2>Upgrade Determined<a class="headerlink" href="#upgrade-determined" title="Permalink to this heading">#</a></h2>
<p>To upgrade Determined or to change a configuration setting, first make the appropriate changes in
<code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> and <code class="docutils literal notranslate"><span class="pre">Chart.yaml</span></code>, and then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">upgrade</span> <span class="o">&lt;</span><span class="n">name</span> <span class="k">for</span> <span class="n">your</span> <span class="n">deployment</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">wait</span> <span class="n">determined</span><span class="o">-</span><span class="n">helm</span><span class="o">-</span><span class="n">chart</span>
</pre></div>
</div>
<p>Before upgrading Determined, consider pausing all active experiments. Any experiments that are
active when the Determined master restarts will resume training after the upgrade, but will be
rolled back to their most recent checkpoint.</p>
</section>
<section id="uninstall-determined">
<h2>Uninstall Determined<a class="headerlink" href="#uninstall-determined" title="Permalink to this heading">#</a></h2>
<p>To uninstall Determined run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Please note that if the Postgres Database was deployed by Determined, it will</span>
<span class="c1"># be deleted by this command, permanently removing all records of your experiments.</span>
<span class="n">helm</span> <span class="n">delete</span> <span class="o">&lt;</span><span class="n">name</span> <span class="k">for</span> <span class="n">your</span> <span class="n">deployment</span><span class="o">&gt;</span>

<span class="c1"># If there were any active tasks when uninstalling, this command will</span>
<span class="c1"># delete all of the leftover Kubernetes resources. It is recommended to</span>
<span class="c1"># pause all experiments prior to upgrading or uninstalling Determined.</span>
<span class="n">kubectl</span> <span class="n">get</span> <span class="n">pods</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">headers</span><span class="o">=</span><span class="n">true</span> <span class="o">-</span><span class="n">l</span><span class="o">=</span><span class="n">determined</span> <span class="o">|</span> <span class="n">awk</span> <span class="s1">&#39;{print $1}&#39;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">kubectl</span> <span class="n">delete</span> <span class="n">pod</span>
</pre></div>
</div>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">#</a></h2>
<p><a class="reference internal" href="custom-pod-specs.html"><span class="doc">Customize a Pod</span></a> <a class="reference internal" href="k8s-dev-guide.html"><span class="doc">Development Guide</span></a> <a class="reference internal" href="setup-aks-cluster.html"><span class="doc">Set up and Manage an Azure Kubernetes Service (AKS) Cluster</span></a> <a class="reference internal" href="setup-eks-cluster.html"><span class="doc">Set up and Manage an AWS Kubernetes (EKS) Cluster</span></a>
<a class="reference internal" href="setup-gke-cluster.html"><span class="doc">Set up and Manage a Google Kubernetes Engine (GKE) Cluster</span></a></p>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="helm-commands.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Helm and Kubectl Command Examples</p>
      </div>
    </a>
    <a class="right-next"
       href="k8s-dev-guide.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Development Guide</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-registry-configuration">Image Registry Configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-pull-secret-configuration">Image Pull Secret Configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#version-configuration">Version Configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-configuration-gpu-based-setups">Resource Configuration (GPU-based setups)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resource-configuration-cpu-based-setups">Resource Configuration (CPU-based setups)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checkpoint-storage">Checkpoint Storage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-pod-specs-optional">Default Pod Specs (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-password-optional">Default Password (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#database-optional">Database (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tls-optional">TLS (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-scheduler-optional">Default Scheduler (Optional)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#node-taints">Node Taints</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kubectl-taints"><code class="docutils literal notranslate"><span class="pre">kubectl</span></code> Taints</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kubectl-tolerations"><code class="docutils literal notranslate"><span class="pre">kubectl</span></code> Tolerations</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-multiple-resource-pools">Setting Up Multiple Resource Pools</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-determined">Install Determined</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-installing-determined-on-kubernetes-i-get-an-imagepullbackoff-error">When installing Determined on Kubernetes, I get an <code class="docutils literal notranslate"><span class="pre">ImagePullBackOff</span></code> error</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upgrade-determined">Upgrade Determined</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uninstall-determined">Uninstall Determined</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tara & LB
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, Determined AI.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>